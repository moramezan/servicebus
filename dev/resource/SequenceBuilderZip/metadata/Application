{
    "type": "Ext.app.Application",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "controllers": [
            "Application"
        ],
        "models": [
            "Process",
            "Step"
        ],
        "name": "Builder",
        "requires": [
            "Ext.Msg"
        ],
        "stores": [
            "Processes",
            "Steps"
        ],
        "views": [
            "Buttons",
            "Main"
        ]
    },
    "name": "Application",
    "designerId": "application",
    "cn": [
        {
            "type": "fixedfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "launch",
                "implHandler": [
                    "//http://www.sencha.com/forum/showthread.php?296173-validIdRe-throwing-Invalid-Element-quot-id-quot-for-valid-ids-containing-colons&p=1081456#post1081456",
                    "Ext.dom.Element.prototype.validIdRe = /^[a-z_][:a-z0-9\\-_]*$/i;",
                    "",
                    "Ext.create('Builder.view.Main', {",
                    "    renderTo: $Component.pageBlockId",
                    "});",
                    "",
                    "Ext.get($Component.pageBlockId).down('div.pbBody').remove();",
                    "",
                    "Ext.create('Builder.view.Buttons', {",
                    "    renderTo: $Component.pageBlockButtonsId",
                    "});",
                    "",
                    "if (!IsRemoteSiteSettingPresent) {",
                    "    var msg;",
                    "    if (CanConfigureRemoteSiteSetting) {",
                    "        //sysadmin can configure package",
                    "        Ext.Msg.show({",
                    "            title: 'Almost there...',",
                    "            msg: [",
                    "                'Hey, before you build any sequences, you must first configure the package.',",
                    "                'To fix up the package configuration, click OK. We\\'ll bring you back here after.'",
                    "            ].join('<br /><br />'),",
                    "            closable: false,",
                    "            icon: Ext.MessageBox.INFO,",
                    "            buttons: Ext.Msg.OK,",
                    "            fn: function() {",
                    "                //send user to configuration with RETURN URL to this page",
                    "                window.location = URLFOR[$Page.Configure] + '?retURL=' + encodeURIComponent($CurrentPage.Url);",
                    "            }",
                    "        });",
                    "    } else {",
                    "        //orchestrator cannot do anything",
                    "        Ext.Msg.show({",
                    "            title: 'Almost there...',",
                    "            msg: [",
                    "                'Hey, your Salesforce Administrator should configure Enterprise Service Bus.',",
                    "                'To fix this, please ask them nicely to configure the package at the URL below:',",
                    "                '<a href=\"' + URLFOR[$Page.Configure] + '\">' + URLFOR[$Page.Configure] + '</a>'",
                    "            ].join('<br /><br />'),",
                    "            icon: Ext.MessageBox.INFO,",
                    "            buttons: Ext.Msg.OK",
                    "        });",
                    "    }",
                    "}",
                    ""
                ]
            },
            "name": "launch",
            "designerId": "f8c1a541-2ab1-401a-bafa-3faf4b9be525"
        }
    ]
}