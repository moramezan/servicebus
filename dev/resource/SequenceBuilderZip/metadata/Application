{
    "type": "Ext.app.Application",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "controllers": [
            "Application"
        ],
        "models": [
            "Step",
            "Process"
        ],
        "name": "Builder",
        "requires": [
            "Ext.grid.plugin.DragDrop",
            "Ext.Msg",
            "Ext.window.Window",
            "Ext.util.Point"
        ],
        "stores": [
            "Steps",
            "Processes"
        ],
        "views": [
            "Buttons",
            "Main"
        ]
    },
    "designerId": "application",
    "cn": [
        {
            "type": "fixedfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "launch",
                "implHandler": [
                    "Ext.create('Builder.view.Main', {",
                    "    renderTo: $Component.pageBlockId",
                    "});",
                    "",
                    "Ext.get($Component.pageBlockId).down('div.pbBody').remove();",
                    "",
                    "Ext.create('Builder.view.Buttons', {",
                    "    renderTo: $Component.pageBlockButtonsId",
                    "});",
                    "",
                    "",
                    "if (!IsRemoteSiteSettingPresent) {",
                    "    var msg;",
                    "    if (CanConfigureRemoteSiteSetting) {",
                    "        //sysadmin can configure package",
                    "        Ext.Msg.show({",
                    "            title: 'Almost there...',",
                    "            msg: [",
                    "                'Hey, before you build any sequences, you must first configure the package.',",
                    "                'To fix up the package configuration, click OK. We\\'ll bring you back here after.'",
                    "            ].join('<br /><br />'),",
                    "            closable: false,",
                    "            icon: Ext.MessageBox.INFO,",
                    "            buttons: Ext.Msg.OK,",
                    "            fn: function() {",
                    "                //send user to configuration with RETURN URL to this page",
                    "                window.location = URLFOR[$Page.Configure] + '?retURL=' + encodeURIComponent($CurrentPage.Url);",
                    "            }",
                    "        });",
                    "    } else {",
                    "        //orchestrator cannot do anything",
                    "        Ext.Msg.show({",
                    "            title: 'Almost there...',",
                    "            msg: [",
                    "                'Hey, your Salesforce Administrator should configure Event Driven Architecture.',",
                    "                'To fix this, please ask them nicely to configure the package at the URL below:',",
                    "                '<a href=\"' + URLFOR[$Page.Configure] + '\">' + URLFOR[$Page.Configure] + '</a>'",
                    "            ].join('<br /><br />'),",
                    "            icon: Ext.MessageBox.INFO,",
                    "            buttons: Ext.Msg.OK",
                    "        });",
                    "    }",
                    "}"
                ]
            },
            "designerId": "054a7704-822c-4c5d-afa4-c9e0f4a63749"
        }
    ]
}