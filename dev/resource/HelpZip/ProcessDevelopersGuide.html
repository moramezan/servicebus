<!DOCTYPE html>
<html>
<head>

    <script src="/faces/a4j/g/3_3_3.Finalorg.ajax4jsf.javascript.AjaxScript?rel=1400083731000" type="text/javascript"></script>
    <script src="/static/111213/js/perf/stub.js"></script>
    <script src="/static/111213/js/functions.js" type="text/javascript"></script>
    <script src="/jslibrary/1398894194000/sfdc/main.js" type="text/javascript"></script>
    <script src="/jslibrary/jslabels/1399588760000/en_US.js" type="text/javascript"></script>
    <script src="/static/111213/desktop/desktopAjax.js" type="text/javascript"></script>
    <script src="/static/111213/js/picklist.js" type="text/javascript"></script>
    <link class="user" href="/sCSS/30.0/sprites/1399588760000/Theme3/default/gc/zen-componentsCompatible.css" rel="stylesheet" type="text/css">
    <link class="user" href="/sCSS/30.0/sprites/1399588760000/Theme3/default/gc/elements.css" rel="stylesheet" type="text/css">
    <link class="user" href="/sCSS/30.0/sprites/1399588760000/Theme3/default/gc/common.css" rel="stylesheet" type="text/css">
    <link class="user" href="/sCSS/30.0/sprites/1398193090000/Theme3/gc/dStandard.css" rel="stylesheet" type="text/css">
    <link class="user" href="/sCSS/30.0/sprites/1400249746000/Theme3/00Db0000000d3oV/005b0000000vx4E/gc/dCustom0.css" rel="stylesheet" type="text/css">
    <link class="user" href="/sCSS/30.0/sprites/1399588760000/Theme3/default/gc/extended.css" rel="stylesheet" type="text/css">
    <link class="user" href="/sCSS/30.0/sprites/1399588760000/Theme3/default/gc/setup.css" rel="stylesheet" type="text/css">
    <link class="user" href="./ProcessDevelopersGuide/syntax.css" rel="stylesheet" type="text/css">
    
    <title></title>
</head>

<body>
<style>
    body {background: url('./inPageClouds.png') top left no-repeat;}

    code {font-family: "Courier New", Courier, "Lucida Sans Typewriter", "Lucida Typewriter", monospace; font-size:95%;}
    .contact {font-family: "Courier New", Courier, "Lucida Sans Typewriter", "Lucida Typewriter", monospace;
        font-size:102%;
        text-align:center}
    .contact.dot {font-weight:bold;}
    a {text-decoration:none;}


    
</style>

<br>
<script>
    if(!window.sfdcPage) { window.sfdcPage = new ApexPage(); }UserContext.initialize({"networkId":"","labelLastModified":"1399588760000","locale":"en_GB","isDefaultNetwork":true,"timeFormat":"HH:mm","today":"18/05/2014 22:09","orgPreferences":[{"index":257,"name":"TabOrganizer","value":true}],"userPreferences":[{"index":112,"name":"HideInlineEditSplash","value":false},{"index":114,"name":"OverrideTaskSendNotification","value":false},{"index":115,"name":"DefaultTaskSendNotification","value":false},{"index":119,"name":"HideUserLayoutStdFieldInfo","value":false},{"index":116,"name":"HideRPPWarning","value":false},{"index":87,"name":"HideInlineSchedulingSplash","value":false},{"index":88,"name":"HideCRUCNotification","value":false},{"index":89,"name":"HideNewPLESplash","value":false},{"index":90,"name":"HideNewPLEWarnIE6","value":false},{"index":122,"name":"HideOverrideSharingMessage","value":false},{"index":91,"name":"HideProfileILEWarn","value":false},{"index":93,"name":"HideProfileElvVideo","value":false},{"index":97,"name":"ShowPicklistEditSplash","value":false},{"index":92,"name":"HideDataCategorySplash","value":false},{"index":128,"name":"ShowDealView","value":false},{"index":129,"name":"HideDealViewGuidedTour","value":false},{"index":132,"name":"HideKnowledgeFirstTimeSetupMsg","value":false},{"index":104,"name":"DefaultOffEntityPermsMsg","value":false},{"index":135,"name":"HideNewCsnSplash","value":true},{"index":101,"name":"HideBrowserWarning","value":false},{"index":139,"name":"HideDashboardBuilderGuidedTour","value":false},{"index":140,"name":"HideSchedulingGuidedTour","value":false},{"index":180,"name":"HideReportBuilderGuidedTour","value":false},{"index":183,"name":"HideAssociationQueueCallout","value":false},{"index":194,"name":"HideQTEBanner","value":false},{"index":193,"name":"HideChatterOnboardingSplash","value":false},{"index":195,"name":"HideSecondChatterOnboardingSplash","value":false},{"index":270,"name":"HideIDEGuidedTour","value":true},{"index":282,"name":"HideQueryToolGuidedTour","value":true},{"index":196,"name":"HideCSIGuidedTour","value":true},{"index":271,"name":"HideFewmetGuidedTour","value":false},{"index":272,"name":"HideEditorGuidedTour","value":true},{"index":205,"name":"HideApexTestGuidedTour","value":false},{"index":206,"name":"HideSetupProfileHeaderTour","value":false},{"index":207,"name":"HideSetupProfileObjectsAndTabsTour","value":false},{"index":213,"name":"DefaultOffArticleTypeEntityPermMsg","value":false},{"index":214,"name":"HideSelfInfluenceGetStarted","value":false},{"index":215,"name":"HideOtherInfluenceGetStarted","value":false},{"index":216,"name":"HideFeedToggleGuidedTour","value":false},{"index":268,"name":"ShowChatterTab178GuidedTour","value":false},{"index":275,"name":"HidePeopleTabDeprecationMsg","value":false},{"index":276,"name":"HideGroupTabDeprecationMsg","value":false},{"index":224,"name":"HideUnifiedSearchGuidedTour","value":false},{"index":226,"name":"ShowDevContextMenu","value":true},{"index":227,"name":"HideWhatRecommenderForActivityQueues","value":false},{"index":228,"name":"HideLiveAgentFirstTimeSetupMsg","value":false},{"index":232,"name":"HideGroupAllowsGuestsMsgOnMemberWidget","value":false},{"index":233,"name":"HideGroupAllowsGuestsMsg","value":false},{"index":234,"name":"HideWhatAreGuestsMsg","value":false},{"index":235,"name":"HideNowAllowGuestsMsg","value":false},{"index":236,"name":"HideSocialAccountsAndContactsGuidedTour","value":false},{"index":237,"name":"HideAnalyticsHomeGuidedTour","value":false},{"index":238,"name":"ShowQuickCreateGuidedTour","value":false},{"index":245,"name":"HideFilePageGuidedTour","value":false},{"index":250,"name":"HideForecastingGuidedTour","value":false},{"index":251,"name":"HideBucketFieldGuide","value":false},{"index":263,"name":"HideSmartSearchCallOut","value":false},{"index":265,"name":"HideSocialProfilesKloutSplashScreen","value":false},{"index":273,"name":"ShowForecastingQuotaAttainment","value":false},{"index":280,"name":"HideForecastingQuotaColumn","value":false},{"index":301,"name":"HideManyWhoGuidedTour","value":false},{"index":284,"name":"HideExternalSharingModelGuidedTour","value":false},{"index":298,"name":"HideFileSyncBannerMsg","value":false},{"index":299,"name":"HideTestConsoleGuidedTour","value":false},{"index":300,"name":"HideNetworkSetupOverlayGettingStarted","value":false},{"index":302,"name":"HideManyWhoInlineEditTip","value":false},{"index":303,"name":"HideSetupV2WelcomeMessage","value":false},{"index":312,"name":"ForecastingShowQuantity","value":false},{"index":313,"name":"HideDataImporterIntroMsg","value":false},{"index":314,"name":"HideEnvironmentHubLightbox","value":false},{"index":316,"name":"HideSetupV2GuidedTour","value":false},{"index":317,"name":"HideFileSyncMobileDownloadDialog","value":false},{"index":318,"name":"HideHelpBannerQuickActionList","value":false},{"index":321,"name":"HideCustomEntityQuickActionCallout","value":true},{"index":322,"name":"HideEnhancedProfileHelpBubble","value":false},{"index":328,"name":"ForecastingHideZeroRows","value":false},{"index":330,"name":"HideEmbeddedComponentsFeatureCallout","value":true},{"index":341,"name":"HideDedupeMatchResultCallout","value":false},{"index":340,"name":"HideS1BrowserUI","value":false}],"startOfWeek":"2","isAccessibleMode":false,"ampm":["AM","PM"],"renderMode":"RETRO","userId":"005b0000000vx4E","dateTimeFormat":"dd/MM/yyyy HH:mm","dateFormat":"dd/MM/yyyy","uiSkin":"Theme3","language":"en_US","siteUrlPrefix":""});
</script>

<div class="apexp bPageBlock brandSecondaryBrd bDetailBlock secondaryPalette" id="j_id0:j_id2">
    <div class="pbHeader">
        <table border="0" cellpadding="0" cellspacing="0">
            <tr>
                <td class="pbTitle">
                    <h2 class="mainTitle">Process Developer&#39;s Guide</h2>
                </td>

                <td>&nbsp;</td>
            </tr>
        </table>
    </div>

    <div class="pbBody">
        <br>

        <div class="pbSubsection" id="j_id0:j_id2:j_id4">
            <table border="0" cellpadding="0" cellspacing="0" class="detailList">
                <tr>
                    <td class="data2Col first" colspan="2"><br>
                        <b>Intended Audience :</b> Salesforce Apex Developer<br>
                        <br></td>
                </tr>

                <tr>
                    <td class="data2Col" colspan="2">
                        <br>
                        <b>About This Guide :</b><br>

                        <ul>
                            <li>This guide is intended for Salesforce Apex Developers who are tasked with providing functionality not provided in the out-of-the-box Event Driven Architectue framework.</li>

                            <li style="list-style: none"><br></li>

                            <li>The purpose of this guide is to:

                                <ol>
                                

                                    <li>Explain basic <code>Process.Plugin</code> concepts as they pertain to the Event Driven Architecture framework.</li>

                                    <li>Describe how to create a <code>Process.Plugin</code> to enable processing functionality not directly provided for in the Event Driven Architectue framework.</li>
                                </ol>
                            </li>

                            <li style="list-style: none"><br></li>

                            <li>This guide does not cover configuring or monitoring the Event Driven Application. This topic is described in the separate <a href="./OrchestratorsGuide.html" style="color: #00f;">
                                Orchestrator's Guide</a> guide.
                            </li>
                        </ul><br>
                        <br>
                    </td>
                </tr>

                <tr>
                    <td class="data2Col last" colspan="2">
                        <br>
                        <b>Chapter Summary :</b><br>

                        <ul>
                            <li><b>CHAPTER 01 :</b> Concepts : Messaging and Events</li>

                            <li><b>CHAPTER 02 :</b> Concepts : Process and Processing</li>

                            <li><b>CHAPTER 03 :</b> Development : Getting Started</li>

                            <li><b>CHAPTER 04 :</b> Development : Define the Process</li>

                            <li><b>CHAPTER 05 :</b> Development : Build the Process and Tests</li>

                            <li><b>CHAPTER 06 :</b> Development : Post Build Steps</li>

         

                            <li><b>APPENDIX I :</b> Anatomy of a Process</li>

                            <li><b>APPENDIX II :</b> EdaUtility Class</li>
                        </ul>
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <div class="pbFooter secondaryPalette bg"></div>
</div>

<div class="apexp bPageBlock brandSecondaryBrd bDetailBlock secondaryPalette" id="j_id0:j_id11">
    <div class="pbBody">
        <br>

        <div id="j_id0:j_id11:j_id13">
            <div class="pbSubheader brandTertiaryBgr first tertiaryPalette">
                <h3>CHAPTER 01 : Concepts : Messaging and Events</h3>
            </div>

            <div class="pbSubsection">
                <table border="0" cellpadding="0" cellspacing="0" class="detailList">
                    <tr>
                        <td class="data2Col first" colspan="2">
                            <br>
                            <b>Event is a Message :</b><br>

                            <ul>
                                <li>In the real world events occur all the time. (For example the clock strikes twelve pm, the fuel tank reaches empty, etc)</li>

                                <li>To represent real world events in a computer system, we create a data structure called a <code>message</code> which would contain details of the event</li>

                                <li>Event and Message are therefore used interchangeably but represent the same concept.</li>


                            </ul><br>
                            <br>
                        </td>
                    </tr>

                    <tr>
                        <td class="data2Col" colspan="2">
                            <br>
                            <b>Purpose of a Message :</b><br>

                            <ul>
                                <li>The primary purpose of a message is to provide a useful mechanism to communicate between processes.</li>


                            </ul><br>
                            <br>
                        </td>
                    </tr>
                    
                    
                    
                    <tr>
                        <td class="data2Col" colspan="2">
                            <br>
                            <b>Event Based Architecture :</b><br>

                            <ul>
                                <li>the Event Driven framework is based on Event Driven Architecture ( "EDA" )</li>
                                
                                <li>Event Driven Architecture is predicated on the notion that work is broken up into processes that respond to event messages.</li>

                                <li>A special traffic cop process working from a configuarable event to process table routes and delivers event messages to the correct processes.</li>
                                
                                
                            </ul><br>
                            <br>
                        </td>
                    </tr>

                    <tr>
                        <td class="data2Col last" colspan="2">
                            <br>
                            <b>Event Messages :</b><br>

                            <ul>
                                <li>Events in the Event Driven framework are represented as work-instruction messages</li>

                                <li>A work-instruction message is handed to specific process. This in turn causes the Apex code contained within that process to execute.
                                <br/> (In other words, the occurrence of an event causes a process that has previously registered it's interest in that event to perform it's Apex logic and to respond with zero, one
                                    or many message events)
                                </li>

                                <li>This is a clean model that limits complexity in the system to just the apex implementation details of any given process</li>

                                <!--<li>It is the purpose of this document to expand on the implementation details of a Event Driven process.</li>
                                -->
                            </ul><br>
                            <br>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <div class="pbFooter secondaryPalette bg"></div>
</div>

<div class="apexp bPageBlock brandSecondaryBrd bDetailBlock secondaryPalette" id="j_id0:j_id20">
    <div class="pbBody" id="j_id0:j_id20:j_id21">
        <div class="pbSubheader brandTertiaryBgr first tertiaryPalette">
            <h3>CHAPTER 02 : Concepts : Process and Processing</h3>
        </div>

        <div class="pbSubsection">
            <table border="0" cellpadding="0" cellspacing="0" class="detailList">
                <tr>
                    <td class="data2Col first" colspan="2">
                        <br>
                        <b>Processing :</b><br>

                        <ul>
                            <li>Work under an event driven architecture is broken up into many specific tasks</li>

                            <li>Each task is implemented as an Apex class and is made available to the Event Driven framework as a process.</li>

                            <li>A process executes logic in a single execution context.</li>

                            <li>All Event Driven processes adhere to a standard structure 
                            <br/>( or more specifically, all Event Driven processes implement the Salesforce <code>Process.Plugin</code> interface)</li>
                        </ul><br>
                        <br>
                    </td>
                </tr>

                <tr>
                    <td class="data2Col last" colspan="2">
                        <br>
                        <b>Process :</b><br>

                        <ul>
                            <li>All Event Driven processes contain a main() method called invoke().
                            </li>
                            <li> The <code>invoke()</code> method takes a single work-instruction and returns a  work-instruction list containing  zero, one or many work-instruction(s).
                                <br/>  We can illustrate the concept with pseudo code as follows:
                               <br/>  <code>List &lt; Work-Instruction &gt; workInstructions = process.invoke ( Work-Instruction workInstruction ) ; </code>
                            </li>

                            <li>The Event Driven framework is designed so that the <code>Work-Instruction</code> output(s) from a process can be fed into the <code>Work-Instruction</code> input of the very next
                                process.</li>

                            <li>The Event Driven framework has by default a number of pre-packaged core processes that can be sequenced together so that useful work can be completed.</li>

                            <li>These rpre-packaged processes include <code>Branch</code> , <code>Gate</code> , <code>Jump</code> , <code>LogInitializer</code> , <code>LogWriter</code> , <code>Mark</code> ,
                                <code>Publish</code> , <code>Schedule</code> , <code>Subscribe</code> , <code>Subsequence</code> , <code>Terminate</code> and <code>Wiretap</code></li>

                            <li>Additional processes can be easily created to implement tasks specific to a particular business requirement</li>

                            <li>The focus of this guide is to provide detailed guidance for the creation of these processes.</li>
                        </ul><br>
                        <br>
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <div class="pbFooter secondaryPalette bg"></div>
</div>

<div class="apexp bPageBlock brandSecondaryBrd bDetailBlock secondaryPalette" id="j_id0:j_id26">
    <div class="pbBody" id="j_id0:j_id26:j_id27">
        <div class="pbSubheader brandTertiaryBgr first tertiaryPalette">
            <h3>CHAPTER 03 : Development : Getting Started</h3>
        </div>

        <div class="pbSubsection">
            <table border="0" cellpadding="0" cellspacing="0" class="detailList">
                
                
<!---  
                <tr>
                    <td class="data2Col first" colspan="2">
                        <br>
                        <b>Prerequisites :</b><br>

                        <ul>
                            <li>
                                     Before creating your first Event Driven process plugin, it is assumed that the Event Driven framework has been installed in you development org.
                                <br/> <b>Note : </b> this requirement facilitates the visual testing of newly created Event Driven processes.
                            </li>

                            <li>    The EDA framework has deliberately been architected in a manner so that custom process plugins 
                                      do NOT take a dependency on the EDA framework.
                                <br/> To simplify custom process development, create an <code>EdaUtility</code> class in your Org by copying and pasting the
                                      Apex code found in <a href="#APPENDIXII" style="color: #00f;">APPENDIX II</a> at the bottom of this page.
                            </li>
                        </ul><br>
                        <br>
                    </td>
                </tr>
-->
                
                <tr>
                    <td class="data2Col first last" colspan="2">
                        <br>
                        <b>Overview :</b><br>

                        <ul>
                            <li>The list below describes the order of activities for creating , testing and deploying your Event Driven process:</li>

                            <li>Define the input event</li>

                            <li>Define the response event(s) (if any)</li>

                            <li>Define <a href="#CHAPTER04" style="color: #00f;">the process activity</a> in the form of a process specification.
                               <br/> ( <b>Note</b> this step would normally be performed by the System  Orchestrator or a Business Analyst.
                                A Force.com developer would then convert the specification into a event driven process plugin- see <a href="#CHAPTER05" style="color: #00f;">Chapter 05</a>)
                            </li>

                            <li>Development : Build the process plugin and accomanying unit tests - see <a href="#CHAPTER05" style="color: #00f;">Chapter 05</a>
                            </li>

                            <li>Visually test the process plugin - see <a href="#CHAPTER06" style="color: #00f;">Chapter 06</a>
                            </li>

                            <li>Create a managed package containing your EDA process and install in the Sandbox. - see <a href="#CHAPTER06" style="color: #00f;">Chapter 06</a>
                            </li>
                        </ul><br>
                        <br>
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <div class="pbFooter secondaryPalette bg"></div>
</div>

<div id="CHAPTER04"></div>

<div class="apexp bPageBlock brandSecondaryBrd bDetailBlock secondaryPalette" id="j_id0:j_id33">
    <div class="pbBody" id="j_id0:j_id33:j_id34">
        <div class="pbSubheader brandTertiaryBgr first tertiaryPalette">
            <h3>CHAPTER 04 : Development : Define the Process</h3>
        </div>

        <div class="pbSubsection">
            <table border="0" cellpadding="0" cellspacing="0" class="detailList">
                <tr>
                    <td class="data2Col first" colspan="2">
                        <br>
                        <b>Define the input event :</b><br>

                        <ul>
                            <li>Every input event message takes the form of the Salesforce built in structure <code>Process.PluginRequest</code> which in turn contains a collection of parameters.</li>

                            <li>The parameters collection takes the form of a map of <code>String / Object </code> key value pairs.</li>

                            <li>Of particular importance in the collection is the <code>Id</code> parameter.</li>

                            <li>The <code>Id</code> parameter points at the underlying data structure for the event.</li>

                            <li>The process author should be familiar with the nature of the data so that he/she can adequately retrieve and/write to this object.</li>
                        </ul><br>
                        <br>
                    </td>
                </tr>

                <tr>
                    <td class="data2Col" colspan="2">
                        <br>
                        <b>Define the response event(s) :</b><br>

                        <ul>

                            <li>A response event is represented as a parameter collection called an output event message and is similar in structure to the input event message .</li>
                            
                            <li>A process can return zero, one or more output event messages as an output collection </li>

                            <li>Normally the output collection will simply contain a single output event message, namely the re-purposed input event message </li>

                            <li>The output collection wrapping zero, one or more output event message(s) is contained within the built-in Salesforce type <code>Process.PluginResult</code></li>
 
                            


                            <!--<li>For an example of a response events collection containing more than a single parameter collection, refer to - see <a href="#????" style="color: #00f;"> TODO </a></li>-->
                        </ul><br>
                        <br>
                    </td>
                </tr>

                <tr>
                    <td class="data2Col last" colspan="2">
                        <br>
                        <b>Define the process activity :</b><br>

                        <ul>
                            <li>The process activity is the focused logic that is unavailable on the EDA framework, either because

                                <ol>
                                    <li>such logic is is not represented by one of the standard built in processes provided by the framework ..or..</li>

                                    <li>such logic has not been previously created and/or registered</li>
                                </ol>
                            </li>

                            <li>The process activity should be <i>focussed</i>  
                            </li>
                            
                            <li>An example of <i>focussed</i>  activity might be converting unix line terminators to windows line terminators</li>

                            <li>An example of -<i>un-focussed</i>  activity might be the counting of word occurrences in a file, alphabetising the summary counts by word and finally reporting the results</li>

                            <li>Un-focused activities should be re-specified into separate focused activites. Using the example above , one could envisage three separate activities (count, sort and report) </li>
                            
                            <li>By focussing an activity the following two objectives are facilitated:
                                <ol>
                                    <li>testing : the more focused an activity , the easier it becomes to write comprehensive , reliable unit tests</li>

                                    <li>re-use : the more focused an activity , the easier it becomes to re-purpose the process in other sequences cutting down on programmer effort and the potential for bugs (less
                                        code)</li>
                                </ol>
                            </li>
                            
                            <li>
                                The EDA framework surfaces the notion of process parameters via configuration and customization to accommodate variations in data applied to the same behavior
                                <ol>
                                    <li>
                                        Customization allows an activity to make use of a single set of parameters regardless of where that process is used.<br>
                                        These parameters are defined in Custom Settings for that activity
                                    </li>
                                    
                                    <li>
                                        Configuration allows an activity to make use of parameters having values configured specific to the sequence step where that process is invoked.
                                    </li>
                                </ol>
                            </li>


                        </ul><br>
                        <br>
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <div class="pbFooter secondaryPalette bg"></div>
</div>

<div id="CHAPTER05"></div>

<div class="apexp bPageBlock brandSecondaryBrd bDetailBlock secondaryPalette" id="j_id0:j_id42">
<div class="pbBody" id="j_id0:j_id42:j_id43">
<div class="pbSubheader brandTertiaryBgr first tertiaryPalette">
    <h3>CHAPTER 05 : Development : Build the Process and Tests</h3>
</div>

<div class="pbSubsection">
<table border="0" cellpadding="0" cellspacing="0" class="detailList">


<tr>
    <td class="data2Col first" colspan="2">
        <br>
        <b>Prerequisites :</b><br>

        <ul>
            <li>
                Before creating your first process plugin, it is assumed that the EDA framework has been installed in you development org.
                <br/> <b>Note : </b> this requirement facilitates the visual testing of newly created event driven processes.
            </li>

            <li>    The EDA framework has deliberately been architected in a manner so that custom process plugins
                do NOT take a dependency on the EDA framework.
                <br/> To simplify custom process development, create an <code>EdaUtility</code> class in your Org by copying and pasting the
                Apex code found in <a href="#APPENDIXII" style="color: #00f;">APPENDIX II</a> at the bottom of this page.
            </li>
        </ul><br>
        <br>
    </td>
</tr>

<tr>
    <td class="data2Col" colspan="2">
        <br>
        <b>Custom Process Creation - Overview :</b><br>

        <ul>
            <li>In a development org , create a new public class</li>

            <li>Confirm that the class follows the expected Event Driven process structure as set out under <a href="APPENDIX" style="color: #00f;">Anatomy of a Process</a> .
            </li>

            <li>Build appropriate unit tests as recommended by Salesforce.</li>
        </ul><br>
        <br>
    </td>
</tr>

<tr>
    <td class="data2Col" colspan="2">
        <br>
        <b>Example :</b><br>

        <ul>
            <li>The Wiretap process is a built-in no-operation process that sends an email to an interested user whenever it receives an event message</li>

            <li>The email contains details about the sequence step hosting the wiretap process as well as the injected message parameters</li>

            <li>As an alternative to the the Wiretap process, we will construct a new process called <code>ChatterTap</code></li>

            <li>Instead of emailing an interested user , the same detail will instead be surfaced on that user's chatter feed</li>
        </ul><br>
        <br>
    </td>
</tr>

<tr>
    <td class="data2Col" colspan="2">
        <br>
        <b>Activity Specification :</b><br>

        <ul>
            <li>The focused activity specification is very similar to that of the Wiretap<br>
                (1) The activity has no side effects on processing, therefore return the untouched inbound event message as the only item in the return collection<br>
                (2) The chatter feed that will surface details about the inbound event will be the chatter feed of a user defined by the user id held on the ChatterTap Customization custom setting<br>
                (3) If no User Id has been entered in the ChatterTap Customization setting, default to the User Id of the user running in the current execution context</li>
        </ul><br>
        <br>
    </td>
</tr>

<tr>
    <td class="data2Col" colspan="2">
        <br>
        <b>Prerequisites :</b><br>

        <ul>
            <li>Create the custom setting to hold the ChatterTap customization - Click <code>Setup|Develope|Custom Setting|New</code><br>
                <br> Add a custom setting field to hold the User Id of the chatter feed by cllicking [New]<br>
            
                <br>
                <img src="./ProcessDevelopersGuide/ChatterTapSettings.png" style="vertical-align:middle;" /><br>
                <br>
            </li>

      

            <li style="list-style: none"><br>
                <br></li>



            <li>Create a new VisualForce page called <code>ChatterTapHelp</code>. 
                <br/>This page represents the mandatory help documentation supporting the <code>ChatterTap</code>  process plugin.
            </li>
            
            <br/>
            
            
            <li>Confirm that chatter is enabled for your org. Click <code>Setup|Chatter|Settings</code> and check the enable box<br>
                <br>
                 <img src="./ProcessDevelopersGuide/ChatterSettings.png" style="vertical-align:middle;" />  <br>
                <br></li>
        </ul><br>
        <br>
    </td>
</tr>

 

<tr>
<td class="data2Col last" colspan="2">
<br>

<ul>
<li>
    <b>Step 01</b>
    <br/>
    Create a class that follows the template of a custom plugin process.<br>

    <div class="dp-highlighter" id="hlDiv">
        <div class="bar"></div>
        <br/>
        <ol class="dp-j" start="1">
            <li class="alt"><span><span class="keyword">global</span><span>&nbsp;with&nbsp;sharing&nbsp;</span><span class="keyword">class</span><span>&nbsp;ChatterTap&nbsp;</span><span class=
                                                                                                                                                                                                  "keyword">implements</span><span>&nbsp;Process.Plugin&nbsp;{&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">global</span><span>&nbsp;</span><span class="keyword">class</span><span>&nbsp;ChatterTapException&nbsp;</span><span class=
                                                                                                                                                                                                            "keyword">extends</span><span>&nbsp;Exception&nbsp;{}&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">global</span><span>&nbsp;</span><span class="keyword">class</span><span>&nbsp;Meta&nbsp;{&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;...</span><span>&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">global</span><span>&nbsp;Process.PluginDescribeResult&nbsp;describe()&nbsp;{&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;...</span><span>&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;</span><span class=
                                                                                                                                                      "keyword">new</span><span>&nbsp;Process.PluginDescribeResult();&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                     "keyword">global</span><span>&nbsp;Process.PluginResult&nbsp;invoke(Process.PluginRequest&nbsp;request)&nbsp;{&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;...</span><span>&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;</span><span class=
                                                                                                                                                   "keyword">new</span><span>&nbsp;Process.PluginResult(</span><span class="keyword">new</span><span>&nbsp;Map&lt;String,Object&gt;());&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

            <li class=""><span>}&nbsp;&nbsp;</span></li>
        </ol>
        <br/>
    </div>

</li>

 
<li style="list-style: none">
    <b>Notes :</b>
    <br>
    <br>
</li>

<li><b>001 :</b>  the class implements the Salesforce interface <code>Process.Plugin</code>. </li>
<li><b>005 - 017 :</b>  there are three sections, namely the inner <code>Meta</code> class, and the two implementation methods <code>describe()</code> and <code>invoke()</code> that are required by the <code>Process.Plugin</code> contract. </li>
<li><b>005 :</b>  the inner <code>Meta</code> class exposes important properties about the custom process thereby facilitating correct integration into the event driven framework. </li>
<li><b>009 :</b>  the <code>describe()</code> method is required by the <code>Process.Plugin</code> interface and describes both the process as well as changes, additions and deletions to the parameters collection(s) returned by the process.
    <br/> Note that this method is purely descriptive and has no influence on the correct functioning of the process.
</li>
<li><b>0014 :</b>  the <code>invoke()</code> method is required by the <code>Process.Plugin</code> interface and contains the Apex logic of the specified focused activity.
    <br/>The method receives  a single event message and emits zero , one or more event messages.
</li>

<li style="list-style: none"><br>
    <br>
    <br>
</li>


<li>
    <b>Step 02</b>
    <br/>
    Formalize the input message that produces a collection of zero, one or more output messages.<br>

    <div class="dp-highlighter" id="hlDiv">
        <div class="bar"></div>
        <br/>
        <ol class="dp-j" start="1">
            <li class="alt"><span><span class="keyword">global</span><span>&nbsp;with&nbsp;sharing&nbsp;</span><span class="keyword">class</span><span>&nbsp;ChatterTap&nbsp;</span><span class=
                                                                                                                                                                                                  "keyword">implements</span><span>&nbsp;Process.Plugin&nbsp;{&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">global</span><span>&nbsp;</span><span class="keyword">class</span><span>&nbsp;ChatterTapException&nbsp;</span><span class=
                                                                                                                                                                                                            "keyword">extends</span><span>&nbsp;Exception&nbsp;{}&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">global</span><span>&nbsp;</span><span class="keyword">class</span><span>&nbsp;Meta&nbsp;{&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;...</span><span>&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">global</span><span>&nbsp;Process.PluginDescribeResult&nbsp;describe()&nbsp;{&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;...</span><span>&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;</span><span class=
                                                                                                                                                      "keyword">new</span><span>&nbsp;Process.PluginDescribeResult();&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                     "keyword">global</span><span>&nbsp;Process.PluginResult&nbsp;invoke(Process.PluginRequest&nbsp;request)&nbsp;{&nbsp;&nbsp;</span></span></li>

            <li class="alt">
                <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map&lt;String,Object&gt;&nbsp;parameters&nbsp;=&nbsp;request.inputParameters;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;EdaUtility.convert(</span><span class=
                                                                                                                                                                         "keyword">new</span><span>&nbsp;List&lt;Map&lt;String,Object&gt;&gt;{parameters});&nbsp;&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

            <li class="alt"><span>}&nbsp;&nbsp;</span></li>
        </ol>
        <br/>
    </div>

</li>

 

<li style="list-style: none">
    <b>Notes :</b>
    <br>
    <br>
</li>

<li><b>015 :</b>  Extract the input message from the containing request instance and assign to a more usable string/object parameters collection </li>
<li><b>017 :</b>  Convert the return statement to a more usable <code>EdaUtility.convert()</code> method. This method takes a list collection of output event messages.
    <br/>Note: Because the <code>ChatterTap</code> is a pass through no-operation process, we simply  add the input message (<code>parameters</code>) to the output message collection
</li>


<li style="list-style: none"><br>
    <br>
    <br>
</li>



<li>
    <b>Step 03</b>
    <br/>
     Annotate and Describe the Process.<br>

    <div class="dp-highlighter" id="hlDiv">
        <div class="bar"></div>
        <br/>
        <ol class="dp-j" start="1">
            <li class="alt"><span><span class="keyword">global</span><span>&nbsp;with&nbsp;sharing&nbsp;</span><span class="keyword">class</span><span>&nbsp;ChatterTap&nbsp;</span><span class=
                                                                                                                                                                                                  "keyword">implements</span><span>&nbsp;Process.Plugin&nbsp;{&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">global</span><span>&nbsp;</span><span class="keyword">class</span><span>&nbsp;ChatterTapException&nbsp;</span><span class=
                                                                                                                                                                                                            "keyword">extends</span><span>&nbsp;Exception&nbsp;{}&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">global</span><span>&nbsp;</span><span class="keyword">class</span><span>&nbsp;Meta&nbsp;{&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">global</span><span>&nbsp;String&nbsp;Icon&nbsp;=&nbsp;</span><span class=
                                                                                                                                                                                "string">'comment'</span><span>;&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;...</span><span>&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">global</span><span>&nbsp;Process.PluginDescribeResult&nbsp;describe()&nbsp;{&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process.PluginDescribeResult&nbsp;describeResult&nbsp;=&nbsp;<span class=
                                                                                                                                                             "keyword">new</span><span>&nbsp;Process.PluginDescribeResult();&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;describeResult.Name&nbsp;=&nbsp;<span class="string">'ChatterTap'</span><span>;&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;describeResult.Description&nbsp;=&nbsp;<span class=
                                                                                                                                       "string">'Inserts&nbsp;the&nbsp;message&nbsp;parameters&nbsp;on&nbsp;user&nbsp;chatterfeed.'</span><span>;&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;describeResult.Tag&nbsp;=&nbsp;<span class="string">'Example'</span><span>;&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;describeResult;&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                     "keyword">global</span><span>&nbsp;Process.PluginResult&nbsp;invoke(Process.PluginRequest&nbsp;request)&nbsp;{&nbsp;&nbsp;</span></span></li>

            <li class="alt">
                <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map&lt;String,Object&gt;&nbsp;parameters&nbsp;=&nbsp;request.inputParameters;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;EdaUtility.convert(</span><span class=
                                                                                                                                                                         "keyword">new</span><span>&nbsp;List&lt;Map&lt;String,Object&gt;&gt;{parameters});&nbsp;&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

            <li class="alt"><span>}&nbsp;&nbsp;</span></li>
        </ol>
        <br/>
    </div>

</li>

 
<li style="list-style: none">
    <b>Notes :</b>
    <br>
    <br>
</li>

<li><b>006 :</b> introduce an appropriate icon  to the process by assigning an icon name from the famfam silk collection.
    <br/> The famfam silk icon collection can be  <a href="http://www.famfamfam.com/lab/icons/silk/previews/index_abc.png">found here</a>. </li>
<li><b>012 :</b>  provide an appropriate name for the process .
    <br/>This name will normally match the class name ( ChatterTap ).</li>
<li><b>013 :</b>  provide an appropriate description for the process.
    <br/>This description will be surfaced in the framework GUI.</li>
<li><b>014 :</b>  provide an appropriate tag for the process.
    <br/>The tag is a user defined string that can be used to group related processes in the framework GUI.</li>

<li style="list-style: none"><br>
    <br>
    <br>
</li>



<li>
    <b>Step 04</b>
    <br/>
    Connect the Process Settings and Process Help Pages.<br>

    <div class="dp-highlighter" id="hlDiv">
        <div class="bar"></div>
        <br/>
        <ol class="dp-j" start="1">
            <li class="alt"><span><span class="keyword">global</span><span>&nbsp;with&nbsp;sharing&nbsp;</span><span class="keyword">class</span><span>&nbsp;ChatterTap&nbsp;</span><span class=
                                                                                                                                                                                                  "keyword">implements</span><span>&nbsp;Process.Plugin&nbsp;{&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">global</span><span>&nbsp;</span><span class="keyword">class</span><span>&nbsp;ChatterTapException&nbsp;</span><span class=
                                                                                                                                                                                                            "keyword">extends</span><span>&nbsp;Exception&nbsp;{}&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">global</span><span>&nbsp;</span><span class="keyword">class</span><span>&nbsp;Meta&nbsp;{&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">global</span><span>&nbsp;String&nbsp;Icon&nbsp;=&nbsp;</span><span class=
                                                                                                                                                                                "string">'comment'</span><span>;&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                                                "keyword">global</span><span>&nbsp;SObject&nbsp;CustomSetting&nbsp;=&nbsp;ChatterTapSettings__c.SObjectType.newSObject();&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                                             "keyword">global</span><span>&nbsp;String&nbsp;DocsPageUrl&nbsp;=&nbsp;Url.getSalesforceBaseUrl().toExternalForm()&nbsp;+&nbsp;Page.ChatterTapHelp.getUrl();&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">global</span><span>&nbsp;Process.PluginDescribeResult&nbsp;describe()&nbsp;{&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process.PluginDescribeResult&nbsp;describeResult&nbsp;=&nbsp;<span class=
                                                                                                                                                          "keyword">new</span><span>&nbsp;Process.PluginDescribeResult();&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;describeResult.Name&nbsp;=&nbsp;<span class="string">'ChatterTap'</span><span>;&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;describeResult.Description&nbsp;=&nbsp;<span class=
                                                                                                                                    "string">'Inserts&nbsp;the&nbsp;message&nbsp;parameters&nbsp;on&nbsp;user&nbsp;chatterfeed.'</span><span>;&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;describeResult.Tag&nbsp;=&nbsp;<span class="string">'Example'</span><span>;&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;describeResult;&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                        "keyword">global</span><span>&nbsp;Process.PluginResult&nbsp;invoke(Process.PluginRequest&nbsp;request)&nbsp;{&nbsp;&nbsp;</span></span></li>

            <li class="">
                <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map&lt;String,Object&gt;&nbsp;parameters&nbsp;=&nbsp;request.inputParameters;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;EdaUtility.convert(</span><span class=
                                                                                                                                                                      "keyword">new</span><span>&nbsp;List&lt;Map&lt;String,Object&gt;&gt;{parameters});&nbsp;&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

            <li class=""><span>}&nbsp;&nbsp;</span></li>
        </ol>
        <br/>
    </div>

</li>

 

<li style="list-style: none">
    <b>Notes :</b>
    <br>
    <br>
</li>

<li><b>007 :</b>  Assign an instance of the <code>ChatterTap</code> custom setting  ( <code>ChatterTapSetting__c </code> ) to the global CustomSetting field of the <code>Meta</code> class.
    <br/> This assignment binds the correct custom settings to this process plugin class. </li>
<li><b>008 :</b>  Assign a url to the help resource for this process plugin class.
    <br/> Normally (but not necessarily) the help resource will take the form of a VisualForce page. </li>


<li style="list-style: none"><br>
    <br>
    <br>
</li>


<li>
    <b>Step 05</b>
    <br/>
    Complete the class - add processing logic to the <Code>invoke()</code> method.<br>

    <div class="dp-highlighter" id="hlDiv">
        <div class="bar"></div>
        <br/>
        <ol class="dp-j" start="1">
            <li class="alt"><span><span class="keyword">global</span><span>&nbsp;with&nbsp;sharing&nbsp;</span><span class="keyword">class</span><span>&nbsp;ChatterTap&nbsp;</span><span class=
                                                                                                                                                                                                  "keyword">implements</span><span>&nbsp;Process.Plugin&nbsp;{&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">global</span><span>&nbsp;</span><span class="keyword">class</span><span>&nbsp;ChatterTapException&nbsp;</span><span class=
                                                                                                                                                                                                            "keyword">extends</span><span>&nbsp;Exception&nbsp;{}&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">global</span><span>&nbsp;</span><span class="keyword">class</span><span>&nbsp;Meta&nbsp;{&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">global</span><span>&nbsp;String&nbsp;Icon&nbsp;=&nbsp;</span><span class=
                                                                                                                                                                                "string">'comment'</span><span>;&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                                                "keyword">global</span><span>&nbsp;SObject&nbsp;CustomSetting&nbsp;=&nbsp;ChatterTapSettings__c.SObjectType.newSObject();&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                                             "keyword">global</span><span>&nbsp;String&nbsp;DocsPageUrl&nbsp;=&nbsp;Url.getSalesforceBaseUrl().toExternalForm()&nbsp;+&nbsp;Page.ChatterTapHelp.getUrl();&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">global</span><span>&nbsp;Process.PluginDescribeResult&nbsp;describe()&nbsp;{&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process.PluginDescribeResult&nbsp;describeResult&nbsp;=&nbsp;<span class=
                                                                                                                                                          "keyword">new</span><span>&nbsp;Process.PluginDescribeResult();&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;describeResult.Name&nbsp;=&nbsp;<span class="string">'ChatterTap'</span><span>;&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;describeResult.Description&nbsp;=&nbsp;<span class=
                                                                                                                                    "string">'Inserts&nbsp;the&nbsp;message&nbsp;parameters&nbsp;on&nbsp;user&nbsp;chatterfeed.'</span><span>;&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;describeResult.Tag&nbsp;=&nbsp;<span class="string">'Example'</span><span>;&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;describeResult;&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                        "keyword">global</span><span>&nbsp;Process.PluginResult&nbsp;invoke(Process.PluginRequest&nbsp;request)&nbsp;{&nbsp;&nbsp;</span></span></li>

            <li class="">
                <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map&lt;String,Object&gt;&nbsp;parameters&nbsp;=&nbsp;request.inputParameters;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                                             "comment">//&nbsp;default&nbsp;or&nbsp;specified&nbsp;chatter&nbsp;user?</span><span>&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Id&nbsp;userId;&nbsp;&nbsp;</span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><span>&nbsp;{&nbsp;&nbsp;</span></span></li>

            <li class="alt">
                <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ChatterTapSettings__c&nbsp;setting&nbsp;=&nbsp;ChatterTapSettings__c.getInstance();&nbsp;&nbsp;</span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;userId&nbsp;=&nbsp;setting.UserId__c;&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword">catch</span><span>&nbsp;(Exception&nbsp;e)&nbsp;{&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(userId&nbsp;==&nbsp;</span><span class=
                                                                                                                                                                       "keyword">null</span><span>)&nbsp;{&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;userId&nbsp;=&nbsp;UserInfo.getUserId();&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

            <li class=""><span>&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;create&nbsp;feed&nbsp;item</span><span>&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FeedItem&nbsp;post&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;FeedItem(&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ParentId&nbsp;=&nbsp;userId,&nbsp;&nbsp;&nbsp;</span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Body&nbsp;=&nbsp;<span class="string">'[ChatterTap]&nbsp;'</span><span>&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;parameters.get(<span class=
                                                                                                                                              "string">'eda_SequenceName'</span><span>)&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;<span class="string">'#'</span><span>&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;parameters.get(<span class=
                                                                                                                                              "string">'eda_Position'</span><span>)&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;insert&nbsp;post;&nbsp;&nbsp;</span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

            <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;EdaUtility.convert(</span><span class=
                                                                                                                                                                         "keyword">new</span><span>&nbsp;List&lt;Map&lt;String,Object&gt;&gt;{parameters});&nbsp;&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

            <li class="alt"><span>}&nbsp;&nbsp;</span></li>
        </ol>
        <br/>
    </div>

</li>
 

<li style="list-style: none">
    <b>Notes :</b>
    <br>
    <br>
</li>

<li><b>020 , 043 :</b>  the focused logic of the process specification has access to the input message parameters and
    returns zero, one or more output messages.
    <br/>( All custom logic occurs between these two statements. )
</li>
<li><b>022 - 031 :</b>  the process accesses the User Id custom setting of the <code>ChatterTap</code> custom settings collection bound to this  class on line <b>007</b>.
</li>
<li><b>033 - 041 :</b>  the inbound message parameters are written to the appropriate chatter feed.
</li>
<li><b>043 :</b>  the inbound message parameters are added to the output message collection.
    <br/>( the <code>ChatterTap</code> process replicates and emits the  inbound message as a single output message in the output message collection. )
</li>

<li style="list-style: none"><br>
    <br>
    <br>
</li>


<li>
<b>Step 06</b>
<br/>
Write unit tests for <code>ChatterTap</code>.<br>

<div class="dp-highlighter" id="hlDiv">
<div class="bar"></div>
<br/> 
<ol class="dp-j" start="1">
<li class="alt"><span><span class="annotation">@IsTest</span><span>&nbsp;&nbsp;&nbsp;</span></span></li>

<li class=""><span><span class="keyword">private</span><span>&nbsp;</span><span class="keyword">class</span><span>&nbsp;ChatterTapTest&nbsp;{&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">static</span><span>&nbsp;testmethod&nbsp;</span><span class=
                                                                                                                               "keyword">void</span><span>&nbsp;processIsDescribed()&nbsp;{&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ChatterTap&nbsp;ChatterTap&nbsp;=&nbsp;<span class=
                                                                                                                           "keyword">new</span><span>&nbsp;ChatterTap();&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.assertNotEquals(<span class=
                                                                                                        "keyword">null</span><span>,&nbsp;ChatterTap.describe().Name);&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.assertNotEquals(<span class=
                                                                                                           "keyword">null</span><span>,&nbsp;ChatterTap.describe().Description);&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.assertNotEquals(<span class=
                                                                                                        "keyword">null</span><span>,&nbsp;ChatterTap.describe().Tag);&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">static</span><span>&nbsp;testmethod&nbsp;</span><span class=
                                                                                                                                  "keyword">void</span><span>&nbsp;callingInvokeThrowsErrorWhenCustomSettingNOTSet()&nbsp;{&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Arrange&nbsp;:</span><span>&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;sequenceName&nbsp;=&nbsp;<span class="string">'the-sequence'</span><span>;&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Integer&nbsp;step&nbsp;=&nbsp;<span class="number">1</span><span>;&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;data&nbsp;=&nbsp;<span class="string">'data'</span><span>;&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;</span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                              "comment">//--&nbsp;NOT&nbsp;DEFINED&nbsp;:&nbsp;insert&nbsp;new&nbsp;ChatterTapSettings__c&nbsp;(&nbsp;UserId__c&nbsp;=&nbsp;UserInfo.getUserId());</span><span>&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;</span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map&lt;String,Object&gt;&nbsp;parameters&nbsp;=&nbsp;<span class=
                                                                                                                                         "keyword">new</span><span>&nbsp;Map&lt;String,Object&gt;&nbsp;{&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                                                         "string">'eda_SequenceName'</span><span>&nbsp;=&gt;&nbsp;sequenceName,&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'eda_Step'</span><span>&nbsp;=&gt;&nbsp;step,&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'data'</span><span>&nbsp;=&gt;&nbsp;data&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};&nbsp;&nbsp;</span></li>

<li class=""><span>&nbsp;&nbsp;</span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Act</span><span>&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ChatterTap&nbsp;plugin&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;ChatterTap();&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Boolean&nbsp;actualFlagException&nbsp;=&nbsp;<span class="keyword">false</span><span>;&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><span>&nbsp;{&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process.PluginResult&nbsp;results&nbsp;=&nbsp;plugin.invoke(<span class=
                                                                                                                                                                        "keyword">new</span><span>&nbsp;Process.PluginRequest(parameters));&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword">catch</span><span>&nbsp;(Exception&nbsp;e)&nbsp;{&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;actualFlagException&nbsp;=&nbsp;<span class="keyword">true</span><span>;&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

<li class="alt"><span>&nbsp;&nbsp;</span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Assert</span><span>&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Boolean&nbsp;expectedFlagException&nbsp;=&nbsp;<span class="keyword">false</span><span>;&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.assertEquals(expectedFlagException&nbsp;,&nbsp;actualFlagException&nbsp;);&nbsp;&nbsp;</span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">static</span><span>&nbsp;testmethod&nbsp;</span><span class=
                                                                                                                                  "keyword">void</span><span>&nbsp;callingInvokeReturnsExpectedParametersCollectionWhenDefinedMetaCustomSettingSet()&nbsp;{&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Arrange&nbsp;:</span><span>&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;sequenceName&nbsp;=&nbsp;<span class="string">'the-sequence'</span><span>;&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Integer&nbsp;step&nbsp;=&nbsp;<span class="number">1</span><span>;&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;data&nbsp;=&nbsp;<span class="string">'data'</span><span>;&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;</span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;insert&nbsp;<span class=
                                                                                                "keyword">new</span><span>&nbsp;ChatterTapSettings__c&nbsp;(&nbsp;UserId__c&nbsp;=&nbsp;UserInfo.getUserId());&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;</span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map&lt;String,Object&gt;&nbsp;parameters&nbsp;=&nbsp;<span class=
                                                                                                                                         "keyword">new</span><span>&nbsp;Map&lt;String,Object&gt;&nbsp;{&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                                                         "string">'eda_SequenceName'</span><span>&nbsp;=&gt;&nbsp;sequenceName,&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'eda_Step'</span><span>&nbsp;=&gt;&nbsp;step,&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'data'</span><span>&nbsp;=&gt;&nbsp;data&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};&nbsp;&nbsp;</span></li>

<li class=""><span>&nbsp;&nbsp;</span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Integer&nbsp;expectedSize&nbsp;=&nbsp;<span class="number">1</span><span>;&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;</span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Act</span><span>&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ChatterTap&nbsp;plugin&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;ChatterTap();&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process.PluginResult&nbsp;results&nbsp;=&nbsp;plugin.invoke(<span class=
                                                                                                                                                "keyword">new</span><span>&nbsp;Process.PluginRequest(parameters));&nbsp;&nbsp;</span></span></li>

<li class="">
    <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List&lt;Map&lt;String,Object&gt;&gt;&nbsp;actualParametersList&nbsp;=&nbsp;EdaUtility.convert(results);&nbsp;&nbsp;</span></li>

<li class="alt"><span>&nbsp;&nbsp;</span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Assemble</span><span>&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Integer&nbsp;actualSize&nbsp;=&nbsp;actualParametersList.size();&nbsp;&nbsp;</span></li>

<li class=""><span>&nbsp;&nbsp;</span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Assert</span><span>&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.assertEquals(expectedSize&nbsp;,&nbsp;actualSize&nbsp;);&nbsp;&nbsp;</span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">static</span><span>&nbsp;testmethod&nbsp;</span><span class=
                                                                                                                               "keyword">void</span><span>&nbsp;callingInvokeExecutesCorrectly()&nbsp;{&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Arrange&nbsp;:</span><span>&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;sequenceName&nbsp;=&nbsp;<span class="string">'the-sequence'</span><span>;&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Integer&nbsp;step&nbsp;=&nbsp;<span class="number">1</span><span>;&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;data&nbsp;=&nbsp;<span class="string">'data'</span><span>;&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;</span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;insert&nbsp;<span class=
                                                                                             "keyword">new</span><span>&nbsp;ChatterTapSettings__c&nbsp;(&nbsp;UserId__c&nbsp;=&nbsp;UserInfo.getUserId());&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;</span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map&lt;String,Object&gt;&nbsp;parameters&nbsp;=&nbsp;<span class=
                                                                                                                                      "keyword">new</span><span>&nbsp;Map&lt;String,Object&gt;&nbsp;{&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                                                            "string">'eda_SequenceName'</span><span>&nbsp;=&gt;&nbsp;sequenceName,&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'eda_Step'</span><span>&nbsp;=&gt;&nbsp;step,&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'data'</span><span>&nbsp;=&gt;&nbsp;data&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};&nbsp;&nbsp;</span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

<li class="">
    <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Integer&nbsp;actualFeedItemsBeforeSize&nbsp;=&nbsp;[SELECT&nbsp;Id,&nbsp;Body&nbsp;FROM&nbsp;FeedItem].Size();&nbsp;&nbsp;</span></li>

<li class="alt"><span>&nbsp;&nbsp;</span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Act</span><span>&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ChatterTap&nbsp;plugin&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;ChatterTap();&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process.PluginResult&nbsp;results&nbsp;=&nbsp;plugin.invoke(<span class=
                                                                                                                                             "keyword">new</span><span>&nbsp;Process.PluginRequest(parameters));&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;</span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Assemble</span><span>&nbsp;&nbsp;</span></span></li>

<li class="alt">
    <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Integer&nbsp;actualFeedItemsAfterSize&nbsp;=&nbsp;[SELECT&nbsp;Id,&nbsp;Body&nbsp;FROM&nbsp;FeedItem].Size();&nbsp;&nbsp;</span></li>

<li class="">
    <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Integer&nbsp;actualSize&nbsp;=&nbsp;actualFeedItemsAfterSize&nbsp;-&nbsp;actualFeedItemsBeforeSize;&nbsp;&nbsp;&nbsp;</span></li>

<li class="alt"><span>&nbsp;&nbsp;</span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Assert</span><span>&nbsp;&nbsp;</span></span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Integer&nbsp;expectedSize&nbsp;=&nbsp;<span class="number">1</span><span>;&nbsp;&nbsp;</span></span></li>

<li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.assertEquals(expectedSize&nbsp;,&nbsp;actualSize&nbsp;);&nbsp;&nbsp;</span></li>

<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

<li class=""><span>}&nbsp;&nbsp;</span></li>
</ol>
<br/>
</div>

</li>

 
<li style="list-style: none">
    <b>Notes :</b>
    <br>
    <br>
</li>

<li><b>004 :</b>  typically,  include a test ( <code>processIsDescribed() </code> ) to ensure that the process is adequately described.
</li>

<li><b>011 :</b>  typically,  include a test (  <code>callingInvokeThrowsErrorWhenCustomSettingNOTSet()  </code> ) to ensure that
    the class  binds to it's specific custom setting collection
    <br/> ( this test is obviously not necessary if the class makes no use of custom settings)
</li>

<li><b>039 :</b>  typically,  include a test (  <code> callingInvokeReturnsExpectedParametersCollectionWhenDefinedMetaCustomSettingSet()  </code>) to ensure
    that the process returns the correct output message collection.
    <br/>  &nbsp; 
    ( this test is particularly important if you are writing a process that doesn't simply perform a 
    a default return of it's inbound message. 
    <br/> &nbsp; Consider, for example  a process that splits it's inbound data into lines and emits a message
    for every split line )
</li>

<li><b>068 :</b>  typically,  include a test (  <code> callingInvokeExecutesCorrectly() </code> ) to ensure that expected side effects of the process
    have executed correctly.
    <br/>   &nbsp;
    (
    The  <code>ChatterTap  </code> process is a no-operation process but does have the side effect of inserting
    the parameters collection into a  chatter feed.
    <br/>  &nbsp; A test is therefore written to verify that the insertion into the  <code>FeedItems </code> collection did in fact take place
    )
</li>

<li style="list-style: none"><br>
    <br>
    <br>
</li>

</ul>





</td>
</tr>
</table>
</div>
</div>

<div class="pbFooter secondaryPalette bg"></div>
</div>

<div id="CHAPTER06"></div>

<div class="apexp bPageBlock brandSecondaryBrd bDetailBlock secondaryPalette" id="j_id0:j_id55">
    <div class="pbBody" id="j_id0:j_id55:j_id56">
        <div class="pbSubheader brandTertiaryBgr first tertiaryPalette">
            <h3>CHAPTER 06 : Development : Post Build Steps</h3>
        </div>

        <div class="pbSubsection">
            <table border="0" cellpadding="0" cellspacing="0" class="detailList">
                <tr>
                    <td class="data2Col first" colspan="2">
                        <br>
                        <b>Visually test the Event Driven process :</b><br>

                        <ul>
                            <li>Once the Apex class has successfully compiled, it can be registered in the EDA framework</li>

                            <li>To register an Apex class in the EDA framework, select the list view on Processes tab to reveal the
                                <img src="./ProcessDevelopersGuide/Discover.png" style="vertical-align:middle;" />
                                button</li>

                            <li>Click the
                                <img src="./ProcessDevelopersGuide/Discover.png" style="vertical-align:middle;" /> 
                                button and depending on the availability of the Salesforce servers, your new Apex class will present itself in the list of available processes 
                                <br/>(For further details on the generation process , see the  <a href="./ProcessDiscoveryTutorial.html"> Process Discovery Tutorial</a>. )</li>

                            <li>Create a suitable Sequence to test your processes by pressing the Sequences tab (For further details on creating and testing sequences, see the  <a href="./ConfirmSetupTutorial.html"> Confirm Setup Tutorial</a> . )</li>
                        </ul><br>
                        <br>
                    </td>
                </tr>

                <tr>
                    <td class="data2Col last" colspan="2">
                        <br>
                        <b>Create a managed package containing your Event Driven process :</b><br>

                        <ul>
                            <li>Create a managed package <a href="http://www.salesforce.com/us/developer/docs/packagingGuide/index_Left.htm#StartTopic=Content/packaging_testing.htm" style="color: #00f;"
                                                            target="_blank">managed package</a> by following standard Salesforce recommendations.
                            </li>

                            <li>Add you Apex class to the package along with unit tests and associated dependencies and upload.</li>

                            <li>This compiled process logic can now be installed in any Developer, Sandbox or Production org using the the package link.</li>
                        </ul><br>
                        <br>
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <div class="pbFooter secondaryPalette bg"></div>
</div>

<div id="APPENDIXI"></div>

<div class="apexp bPageBlock brandSecondaryBrd bDetailBlock secondaryPalette" id="j_id0:j_id62">
    <div class="pbBody" id="j_id0:j_id62:j_id63">
        <div class="pbSubheader brandTertiaryBgr first tertiaryPalette">
            <h3>APPENDIX I : Anatomy of a Process</h3>
        </div>

        <div class="pbSubsection">
            <table border="0" cellpadding="0" cellspacing="0" class="detailList">
                <tr>
                    <td class="data2Col first last" colspan="2">

                        <!-- 1 -->
                      
                        <ul>
                            <li>Before a custom Event Driven process can be registered in the Event Driven framework, the code representing the process must conform structurally to a specific Event Driven
                                template</li>

                            <li>The template is based in part on the Salesforce <code>Process.Plugin</code> interface and as such the process must implement <code>Process.Plugin</code></li>

                            <li>In addition, the Event Driven framework expects that the process will publicly expose an inner class called <code>Meta</code> and certain associated <code>Meta</code> properties.</li>

                            <li>Below is an annotated hypothetical example of a custom EDA process called <code>MyProcess</code> which adheres to the required template.
                                <br/>( The custom process inspects the underlying message data and  depending on content adds a priority attribute <code>myns_Urgency</code> to the returned output message )
                                <br/>
                                <br>

                                <div class="dp-highlighter" id="hlDiv">
                                    <div class="bar"></div>
                                    <br/>
                                    <ol class="dp-j" start="1">
                                        <li class="alt"><span><span>global&nbsp;with&nbsp;sharing&nbsp;</span><span class="keyword">class</span><span>&nbsp;MyProcess&nbsp;</span><span class=
                                                                                                                                                                                                "keyword">implements</span><span>&nbsp;Process.Plugin&nbsp;{&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;<span class="keyword">class</span><span>&nbsp;MyProcessException&nbsp;</span><span class=
                                                                                                                                                                                             "keyword">extends</span><span>&nbsp;Exception&nbsp;{}&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;<span class="keyword">class</span><span>&nbsp;Meta&nbsp;{&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;String&nbsp;Icon&nbsp;=&nbsp;<span class="string">'lightning'</span><span>;&nbsp;&nbsp;</span></span></li>

                                        <li class="alt">
                                            <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;String&nbsp;DocsPageUrl&nbsp;=&nbsp;Url.getSalesforceBaseUrl().toExternalForm()&nbsp;+&nbsp;Page.MyProcessHelp.getUrl();&nbsp;&nbsp;</span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;Process.PluginDescribeResult&nbsp;describe()&nbsp;{&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process.PluginDescribeResult&nbsp;describeResult&nbsp;=&nbsp;<span class=
                                                                                                                                                                                         "keyword">new</span><span>&nbsp;Process.PluginDescribeResult();&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;describeResult.Name&nbsp;=&nbsp;<span class="string">'MyProcess'</span><span>;&nbsp;&nbsp;</span></span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;describeResult.Description&nbsp;=&nbsp;<span class=
                                                                                                                                                                   "string">'Tags&nbsp;the&nbsp;message&nbsp;with&nbsp;an&nbsp;urgency&nbsp;level.'</span><span>;&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;describeResult.Tag&nbsp;=&nbsp;<span class="string">'My&nbsp;Category'</span><span>;&nbsp;&nbsp;</span></span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;describeResult.OutputParameters&nbsp;=&nbsp;<span class=
                                                                                                                                                                        "keyword">new</span><span>&nbsp;List&lt;Process.PluginDescribeResult.OutputParameter&gt;{&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                                                                                                 "keyword">new</span><span>&nbsp;Process.PluginDescribeResult.OutputParameter(&nbsp;&nbsp;</span></span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                                                                                                                            "string">'myns_Urgency'</span><span>,&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                                                                                                                         "string">'Indicates&nbsp;the&nbsp;level&nbsp;of&nbsp;urgency&nbsp;[high,medium,low]'</span><span>,&nbsp;&nbsp;</span></span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process.PluginDescribeResult.ParameterType.String&nbsp;&nbsp;</span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};&nbsp;&nbsp;</span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;describeResult;&nbsp;&nbsp;</span></span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;Process.PluginResult&nbsp;invoke(Process.PluginRequest&nbsp;request)&nbsp;{&nbsp;&nbsp;</span></li>

                                        <li class="">
                                            <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map&lt;String,Object&gt;&nbsp;parameters&nbsp;=&nbsp;request.inputParameters;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;</span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;theUrgency&nbsp;=&nbsp;<span class="string">'high'</span><span>;&nbsp;&nbsp;</span><span class=
                                                                                                                                                                                                                        "comment">//some&nbsp;logic&nbsp;to&nbsp;derive&nbsp;the&nbsp;urgency&nbsp;level&nbsp;</span><span>&nbsp;&nbsp;</span></span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parameters.put(<span class="string">'myns_Urgency'</span><span>,&nbsp;theUrgency);&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;EdaUtility.convert(</span><span class=
                                                                                                                                                                                                     "keyword">new</span><span>&nbsp;List&lt;Map&lt;String,Object&gt;&gt;{parameters});&nbsp;&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>}&nbsp;&nbsp;</span></li>
                                    </ol>
                                    <br/>
                                </div>
                            </ul>
                   

                        <ul>
                            <li style="list-style: none"><b>Notes :</b><br>
                                <br></li>

                            <li><b>001 :</b> the class <code>MyProcess</code> must implement the Salesforce interface <code>Process.Plugin</code>
                            </li>
                            <li><b>003 :</b> declare a custom exception <code>MyProcessException</code> that extends <code>Exception</code> to surface know errors within your process [*]
                            </li>
                            <li style="list-style: none"> <br/></li>
                            <li><b>005 - 008 :</b> the inner <b>  <code>Meta</code>  </b>  class
                                <br/> ( 
                                      the presence of this class along with the <code>'implements Process.Plugin'</code> clause together signal to the EDA framework that this class is an EDA plugin process.
                                      )
                            </li>
                            <li><b>006 :</b> <code>Icon</code> - A string representing a user selectable icon for the process as descibed by famfam "silk" icon set
                            </li>
                            <li><b>007 :</b> <code>DocsPageUrl</code> - A url pointing at the process help resource. (Normally a VisualForce page)
                            </li>
                            <li style="list-style: none"> <br/></li>
                            <li><b>010 - 023 :</b>  <b> <code> describe()</code> </b>
                            <br/> (
                                        describes the process by returning a <code>Process.PluginDescribeResult</code>
                                      )
                            </li>
                            <li><b>012 :</b> <code>Name</code> - normally the name of the custom process class
                            </li>
                            <li><b>013 :</b> <code>Description</code> -  the description of the custom process functionality
                            </li>
                            <li><b>014 :</b> <code>Tag</code> - the tag is a classification mechanism.
                                <br/> &nbsp;&nbsp;&nbsp; All custom processes with the same tag will be presented together under this named group in the GUI process selection mechanism
                            </li>
                            <li><b>015 - 021 :</b> <code>OutputParameters</code> is a list of type <code>OutputParameter</code>.
                                <br/> &nbsp;&nbsp;&nbsp; If the process adds deletes or modifies a parameter on the message, this would be the place to describe the change
                            </li>
                            <li><b>017 :</b> the parameter name. Although not mandatory, it is best practise to prefix user defined parameter names with a fairly unique 'namespace'.
                            </li>
                            <li><b>018 :</b> the parameter description
                            </li>
                            <li><b>019 :</b> the parameter type ( <code>String</code> , <code>Boolean</code> , etc)
                            </li>
                            <li style="list-style: none"> <br/></li>
                            <li><b>025 - 032 :</b> <b>  <code> invoke() </code> </b>
                            <br/>  (
                                        invokes the process taking a single input message event and returning zero, one or more output messages as a <code>Process.PluginResult</code>.
                                       )
                            </li>
                            <li><b>026 :</b> explicitly expose the injected parameter collection as a <code>String/Object</code> map.
                                <br/> &nbsp;&nbsp;&nbsp; Always include this statement immediately after in the <code>invoke()</code> signature
                            </li>
                            <li><b>031 :</b> return a <code>Process.PluginResult</code>.
                                <br/> &nbsp;&nbsp;&nbsp; In practice return a call to <code>EdaUtility.convert()</code> passing in a list that contains zero, one or more parameter collections.
                                <br/> &nbsp;&nbsp;&nbsp; Normally, just the inbound parameter collection is be returned.
                            </li>
                            <li><b>028 -029 :</b> perform custom actions  - this is where the custom process developer focuses his or her efforts
                            </li>
                            
                            <li style="list-style: none"><br>
                                <br>
                                <i>[*] - exceptions will appear as records in the message object</i></li>
                        </ul>
                        
                        <!-- 2 -->

                        <br>

                        
                        <ul>
                            <li style="list-style: none"><b>Process Parameters :</b><br>
                                <br>
                              
                            </li>
                            
                            <li> Instead of replicating a large percentage of custom logic in a second plugin process, the process developer may choose to expose variation in execution logic through parameters.
                                 <br/> Process parameters can be configured for the specific processing step or can apply to the process class as a whole via custom settings.
                            <br/> 
                            </li>

                            <br>

                            </ul>
                                
                            <ul>
                                <li style="list-style: none"><b>
                                    <br/>
                                    Class Wide Parameters - Custom Settings :</b><br>
                                    <br>
                                </li>

                 
                                <li> The template below demonstrates how to bind to 'and make use of a class wide custom settings page.
                                <br>


                                <div class="dp-highlighter" id="hlDiv">
                                    <div class="bar"></div>
                                    <br/>
                                    <ol class="dp-j" start="1">
                                        <li class="alt"><span><span>global&nbsp;</span><span class="keyword">class</span><span>&nbsp;Meta&nbsp;{&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;.&nbsp;.&nbsp;.&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;SObject&nbsp;CustomSetting&nbsp;=&nbsp;MyProcessSettings__c.SObjectType.newSObject();&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;.&nbsp;.&nbsp;.&nbsp;</span><span>&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>}&nbsp;&nbsp;</span></li>

                                        <li class=""><span>&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;</span></li>

                                        <li class=""><span>global&nbsp;Process.PluginResult&nbsp;invoke(Process.PluginRequest&nbsp;request)&nbsp;{&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;</span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;.&nbsp;.&nbsp;.</span><span>&nbsp;&nbsp;</span></span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//get&nbsp;settings&nbsp;for&nbsp;class&nbsp;</span><span>&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;MyProcessSettings__c&nbsp;settings;&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><span>&nbsp;{&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;settings&nbsp;=&nbsp;MyProcessSettings__c.getInstance();&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword">catch</span><span>&nbsp;(Exception&nbsp;e)&nbsp;{&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">throw</span><span>&nbsp;</span><span class=
                                                                                                                                                                              "keyword">new</span><span>&nbsp;MyProcessException(</span><span class="string">'Unable&nbsp;to&nbsp;access&nbsp;MyProcessSettings'</span><span>);&nbsp;&nbsp;</span></span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;.&nbsp;.&nbsp;.</span><span>&nbsp;&nbsp;</span></span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

                                        <li class=""><span>}&nbsp;&nbsp;</span></li>
                                    </ol>
                                    <br/>
                                </div>
                           </ul>

                     
                        <ul>
                            <li style="list-style: none"><b>Notes :</b><br>
                                <br></li>

                            <li><b>004 :</b> Inside the inner <code>Meta</code> class, assign an instance of the custom settings page supporting your process class to the  <code>CustomSetting</code> field.
                            </li>
                            <li><b>014 -019 :</b> Inside the  <code>invoke()</code> method, call  <code>getInstance() </code>  on your custom settings object  thereby
                                availing class wide custom setting properties to actions within your method.
                                <br/> &nbsp;&nbsp;&nbsp;
                            </li>
                        </ul>




                        <!-- 3 -->
                        <br>

                        <ul>
                            <li style="list-style: none"><b>
                                <br/>
                                Process Instance Parameters - Configuration Settings :</b><br>
                                <br>
                            </li>




                            <li> The template below demonstrates how to bind to 'and make use of a custom configuration object
                                 to enable configuartion of parameters specific a particular custom process instance
                                <br/> <b> Note </b> : Configuration is accessed by clicking the
                                <img src="./ProcessDevelopersGuide/ConfigureLink.png" style="vertical-align:middle;" />
                                link  surfaced adjacent to 
                                the custom process step on the sequences GUI
                                <br/>

                               
                                <div class="dp-highlighter" id="hlDiv">
                                    <div class="bar"></div>
                                    <br/>
                                    <ol class="dp-j" start="1">
                                        <li class="alt"><span><span>global&nbsp;</span><span class="keyword">class</span><span>&nbsp;Meta&nbsp;{&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;.&nbsp;.&nbsp;.&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;SObject&nbsp;ConfigObject&nbsp;=&nbsp;MyProcessConfiguration__c.SObjectType.newSobject();&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;.&nbsp;.&nbsp;.</span><span>&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>}&nbsp;&nbsp;</span></li>

                                        <li class=""><span>&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;</span></li>

                                        <li class=""><span>global&nbsp;Process.PluginResult&nbsp;invoke(Process.PluginRequest&nbsp;request)&nbsp;{&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;</span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;.&nbsp;.&nbsp;.&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span></span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//get&nbsp;configuration&nbsp;for&nbsp;a&nbsp;particular&nbsp;step&nbsp;</span><span>&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;MyProcessConfiguration__c&nbsp;configuration;&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><span>&nbsp;{&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configuration&nbsp;=&nbsp;(MyProcessConfiguration__c)SalesforceObject.getById((Id)parameters.get(<span class=
                                                                                                                                                                                                                          "string">'eda_ConfigObjectId'</span><span>));&nbsp;&nbsp;</span></span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword">catch</span><span>&nbsp;(System.QueryException&nbsp;e)&nbsp;{&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">throw</span><span>&nbsp;</span><span class=
                                                                                                                                                                              "keyword">new</span><span>&nbsp;MyProcessException(</span><span class="string">'Unable&nbsp;to&nbsp;access&nbsp;MyProcessConfiguration'</span><span>);&nbsp;&nbsp;</span></span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;.&nbsp;.&nbsp;.</span><span>&nbsp;&nbsp;</span></span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

                                        <li class=""><span>}&nbsp;&nbsp;</span></li>
                                    </ol>
                                    <br/>
                                </div>
                        </ul>

                    

                        <ul>
                            <li style="list-style: none"><b>Notes :</b><br>
                                <br></li>

                            <li><b>004 :</b> Inside the inner <code>Meta</code> class, assign an instance of the custom object supporting configuration of your process instances to the <code>ConfigObject</code> field.
                            </li>
                            <li><b>014 - 019 :</b> Inside the  <code>invoke()</code> method, call <code>SalesforceObject.getById((Id)parameters.get('eda_ConfigObjectId') </code>
                                casting the returned instance to your custom configuation object type .
                                <br/>  &nbsp;&nbsp;&nbsp;(In this example  <code>MyProcessConfiguration__c</code>  )
                            </li>
                            <li style="list-style: none"><b>
                                <br/>
                               
                                <br>
                            </li>
                            
                        </ul>



                    </td>
                </tr>
            </table>
        </div>
    </div>

    <div class="pbFooter secondaryPalette bg"></div>
</div>

<div id="APPENDIXII"></div>

<div class="apexp bPageBlock brandSecondaryBrd bDetailBlock secondaryPalette" id="j_id0:j_id67">
    <div class="pbBody" id="j_id0:j_id67:j_id68">
        <div class="pbSubheader brandTertiaryBgr first tertiaryPalette">
            <h3>APPENDIX II : EdaUtility Class</h3>
        </div>

        <div class="pbSubsection">
            <table border="0" cellpadding="0" cellspacing="0" class="detailList">
                <tr>
                    <td class="data2Col first last" colspan="2">
                         
                        <ul>
                            <li>In order to complete many of the EDA tutorials and facilitate custom process development, the following Apex class should be copied and pasted as is into the org hosting the Event
                                Driven Architecture application<br>
                               

                                <div class="dp-highlighter" id="hlDiv">
                                    <br/>
                                    <div class="bar"></div>

                                    <ol class="dp-j" start="1">
                                        <li class="alt"><span><span class="keyword">public</span><span>&nbsp;with&nbsp;sharing&nbsp;</span><span class="keyword">class</span><span>&nbsp;EdaUtility&nbsp;{&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">static</span><span>&nbsp;</span><span class=
                                                                                                                                                          "keyword">public</span><span>&nbsp;Map&lt;String,String&gt;&nbsp;convert(List&lt;Process.PluginDescribeResult.InputParameter&gt;&nbsp;inputs)&nbsp;{&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//populate&nbsp;list&nbsp;into&nbsp;key-value&nbsp;map</span><span>&nbsp;&nbsp;</span></span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map&lt;String,String&gt;&nbsp;descriptions&nbsp;=&nbsp;<span class=
                                                                                                                                                                                   "keyword">new</span><span>&nbsp;Map&lt;String,String&gt;();&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                                                                         "keyword">for</span><span>&nbsp;(Process.PluginDescribeResult.InputParameter&nbsp;inputParameter&nbsp;:&nbsp;inputs)&nbsp;{&nbsp;&nbsp;</span></span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;descriptions.put(inputParameter.Name,&nbsp;inputParameter.Description);&nbsp;&nbsp;</span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;descriptions;&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">static</span><span>&nbsp;</span><span class=
                                                                                                                                                       "keyword">public</span><span>&nbsp;Process.PluginResult&nbsp;convert(List&lt;Map&lt;String,Object&gt;&gt;&nbsp;parametersList)&nbsp;{&nbsp;&nbsp;</span></span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map&lt;String,Object&gt;&nbsp;results&nbsp;=&nbsp;<span class=
                                                                                                                                                                              "keyword">new</span><span>&nbsp;Map&lt;String,Object&gt;();&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Integer&nbsp;count&nbsp;=&nbsp;<span class="number">0</span><span>;&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                                                                         "keyword">for</span><span>&nbsp;(Map&lt;String,Object&gt;&nbsp;parameters&nbsp;:&nbsp;parametersList)&nbsp;{&nbsp;&nbsp;</span></span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;results.put(String.valueOf(count++),&nbsp;parameters);&nbsp;&nbsp;</span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;</span><span class=
                                                                                                                                                                               "keyword">new</span><span>&nbsp;Process.PluginResult(results);&nbsp;&nbsp;</span></span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">static</span><span>&nbsp;</span><span class=
                                                                                                                                                          "keyword">public</span><span>&nbsp;List&lt;Map&lt;String,Object&gt;&gt;&nbsp;convert(Process.PluginResult&nbsp;results)&nbsp;{&nbsp;&nbsp;</span></span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List&lt;Map&lt;String,Object&gt;&gt;&nbsp;parametersList&nbsp;=&nbsp;<span class=
                                                                                                                                                                                              "keyword">new</span><span>&nbsp;List&lt;Map&lt;String,Object&gt;&gt;();&nbsp;&nbsp;</span></span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Integer&nbsp;count&nbsp;=&nbsp;<span class="number">0</span><span>;&nbsp;&nbsp;</span></span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Integer&nbsp;size&nbsp;=&nbsp;results.outputParameters.size();&nbsp;&nbsp;</span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">for</span><span>&nbsp;(Integer&nbsp;i&nbsp;=&nbsp;</span><span class=
                                                                                                                                                                                                           "number">0</span><span>;&nbsp;i&nbsp;&lt;&nbsp;size;&nbsp;i++)&nbsp;{&nbsp;&nbsp;</span></span></li>

                                        <li class="">
                                            <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Object&nbsp;result&nbsp;=&nbsp;results.outputParameters.get(String.valueOf(i));&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;data&nbsp;=&nbsp;System.Json.serialize(result);&nbsp;&nbsp;</span></li>

                                        <li class="">
                                            <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map&lt;String,Object&gt;&nbsp;parameters&nbsp;=&nbsp;(Map&lt;String,Object&gt;)System.Json.deserializeUntyped(data);&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parametersList.add(parameters);&nbsp;&nbsp;</span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;parametersList;&nbsp;&nbsp;</span></span></li>

                                        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

                                        <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

                                        <li class="alt"><span>}&nbsp;&nbsp;</span></li>
                                    </ol>
                                    <br/>
                                </div>

                            </li>
                        </ul>
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <div class="pbFooter secondaryPalette bg"></div>
</div>

<br/>
<div class="contact">
    webmaster@bigassforce.com &middot; (+44) 07545 169 989 &middot; <a href="http://www.bigassforce.com/" style="color: #00f;" target="_blank">www.bigassforce.com</a>
</div><br>
<br>
</body>
</html>