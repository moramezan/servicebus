<!DOCTYPE html>
<html>
<head>

    <script src="/faces/a4j/g/3_3_3.Finalorg.ajax4jsf.javascript.AjaxScript?rel=1400083731000" type="text/javascript"></script>
    <script src="/static/111213/js/perf/stub.js"></script>
    <script src="/static/111213/js/functions.js" type="text/javascript"></script>
    <script src="/jslibrary/1398894194000/sfdc/main.js" type="text/javascript"></script>
    <script src="/jslibrary/jslabels/1399588760000/en_US.js" type="text/javascript"></script>
    <script src="/static/111213/desktop/desktopAjax.js" type="text/javascript"></script>
    <script src="/static/111213/js/picklist.js" type="text/javascript"></script>
    <link class="user" href="/sCSS/30.0/sprites/1399588760000/Theme3/default/gc/zen-componentsCompatible.css" rel="stylesheet" type="text/css">
    <link class="user" href="/sCSS/30.0/sprites/1399588760000/Theme3/default/gc/elements.css" rel="stylesheet" type="text/css">
    <link class="user" href="/sCSS/30.0/sprites/1399588760000/Theme3/default/gc/common.css" rel="stylesheet" type="text/css">
    <link class="user" href="/sCSS/30.0/sprites/1398193090000/Theme3/gc/dStandard.css" rel="stylesheet" type="text/css">
    <link class="user" href="/sCSS/30.0/sprites/1400249746000/Theme3/00Db0000000d3oV/005b0000000vx4E/gc/dCustom0.css" rel="stylesheet" type="text/css">
    <link class="user" href="/sCSS/30.0/sprites/1399588760000/Theme3/default/gc/extended.css" rel="stylesheet" type="text/css">
    <link class="user" href="/sCSS/30.0/sprites/1399588760000/Theme3/default/gc/setup.css" rel="stylesheet" type="text/css">
    <link class="user" href="./ScrapeWebPageTutorial/syntax.css" rel="stylesheet" type="text/css">

    <title></title>
</head>

<body>
<style>
    body {background: url('./inPageClouds.png') top left no-repeat;}

    code {font-family: "Courier New", Courier, "Lucida Sans Typewriter", "Lucida Typewriter", monospace; font-size:95%;}
    .contact {font-family: "Courier New", Courier, "Lucida Sans Typewriter", "Lucida Typewriter", monospace;
        font-size:100%;
        text-align:center}
    .contact.dot {font-weight:bold;}
    a {text-decoration:none;}
</style><br>
<script>
    if(!window.sfdcPage) { window.sfdcPage = new ApexPage(); }UserContext.initialize({"networkId":"","labelLastModified":"1399588760000","locale":"en_GB","isDefaultNetwork":true,"timeFormat":"HH:mm","today":"18/05/2014 22:15","orgPreferences":[{"index":257,"name":"TabOrganizer","value":true}],"userPreferences":[{"index":112,"name":"HideInlineEditSplash","value":false},{"index":114,"name":"OverrideTaskSendNotification","value":false},{"index":115,"name":"DefaultTaskSendNotification","value":false},{"index":119,"name":"HideUserLayoutStdFieldInfo","value":false},{"index":116,"name":"HideRPPWarning","value":false},{"index":87,"name":"HideInlineSchedulingSplash","value":false},{"index":88,"name":"HideCRUCNotification","value":false},{"index":89,"name":"HideNewPLESplash","value":false},{"index":90,"name":"HideNewPLEWarnIE6","value":false},{"index":122,"name":"HideOverrideSharingMessage","value":false},{"index":91,"name":"HideProfileILEWarn","value":false},{"index":93,"name":"HideProfileElvVideo","value":false},{"index":97,"name":"ShowPicklistEditSplash","value":false},{"index":92,"name":"HideDataCategorySplash","value":false},{"index":128,"name":"ShowDealView","value":false},{"index":129,"name":"HideDealViewGuidedTour","value":false},{"index":132,"name":"HideKnowledgeFirstTimeSetupMsg","value":false},{"index":104,"name":"DefaultOffEntityPermsMsg","value":false},{"index":135,"name":"HideNewCsnSplash","value":true},{"index":101,"name":"HideBrowserWarning","value":false},{"index":139,"name":"HideDashboardBuilderGuidedTour","value":false},{"index":140,"name":"HideSchedulingGuidedTour","value":false},{"index":180,"name":"HideReportBuilderGuidedTour","value":false},{"index":183,"name":"HideAssociationQueueCallout","value":false},{"index":194,"name":"HideQTEBanner","value":false},{"index":193,"name":"HideChatterOnboardingSplash","value":false},{"index":195,"name":"HideSecondChatterOnboardingSplash","value":false},{"index":270,"name":"HideIDEGuidedTour","value":true},{"index":282,"name":"HideQueryToolGuidedTour","value":true},{"index":196,"name":"HideCSIGuidedTour","value":true},{"index":271,"name":"HideFewmetGuidedTour","value":false},{"index":272,"name":"HideEditorGuidedTour","value":true},{"index":205,"name":"HideApexTestGuidedTour","value":false},{"index":206,"name":"HideSetupProfileHeaderTour","value":false},{"index":207,"name":"HideSetupProfileObjectsAndTabsTour","value":false},{"index":213,"name":"DefaultOffArticleTypeEntityPermMsg","value":false},{"index":214,"name":"HideSelfInfluenceGetStarted","value":false},{"index":215,"name":"HideOtherInfluenceGetStarted","value":false},{"index":216,"name":"HideFeedToggleGuidedTour","value":false},{"index":268,"name":"ShowChatterTab178GuidedTour","value":false},{"index":275,"name":"HidePeopleTabDeprecationMsg","value":false},{"index":276,"name":"HideGroupTabDeprecationMsg","value":false},{"index":224,"name":"HideUnifiedSearchGuidedTour","value":false},{"index":226,"name":"ShowDevContextMenu","value":true},{"index":227,"name":"HideWhatRecommenderForActivityQueues","value":false},{"index":228,"name":"HideLiveAgentFirstTimeSetupMsg","value":false},{"index":232,"name":"HideGroupAllowsGuestsMsgOnMemberWidget","value":false},{"index":233,"name":"HideGroupAllowsGuestsMsg","value":false},{"index":234,"name":"HideWhatAreGuestsMsg","value":false},{"index":235,"name":"HideNowAllowGuestsMsg","value":false},{"index":236,"name":"HideSocialAccountsAndContactsGuidedTour","value":false},{"index":237,"name":"HideAnalyticsHomeGuidedTour","value":false},{"index":238,"name":"ShowQuickCreateGuidedTour","value":false},{"index":245,"name":"HideFilePageGuidedTour","value":false},{"index":250,"name":"HideForecastingGuidedTour","value":false},{"index":251,"name":"HideBucketFieldGuide","value":false},{"index":263,"name":"HideSmartSearchCallOut","value":false},{"index":265,"name":"HideSocialProfilesKloutSplashScreen","value":false},{"index":273,"name":"ShowForecastingQuotaAttainment","value":false},{"index":280,"name":"HideForecastingQuotaColumn","value":false},{"index":301,"name":"HideManyWhoGuidedTour","value":false},{"index":284,"name":"HideExternalSharingModelGuidedTour","value":false},{"index":298,"name":"HideFileSyncBannerMsg","value":false},{"index":299,"name":"HideTestConsoleGuidedTour","value":false},{"index":300,"name":"HideNetworkSetupOverlayGettingStarted","value":false},{"index":302,"name":"HideManyWhoInlineEditTip","value":false},{"index":303,"name":"HideSetupV2WelcomeMessage","value":false},{"index":312,"name":"ForecastingShowQuantity","value":false},{"index":313,"name":"HideDataImporterIntroMsg","value":false},{"index":314,"name":"HideEnvironmentHubLightbox","value":false},{"index":316,"name":"HideSetupV2GuidedTour","value":false},{"index":317,"name":"HideFileSyncMobileDownloadDialog","value":false},{"index":318,"name":"HideHelpBannerQuickActionList","value":false},{"index":321,"name":"HideCustomEntityQuickActionCallout","value":true},{"index":322,"name":"HideEnhancedProfileHelpBubble","value":false},{"index":328,"name":"ForecastingHideZeroRows","value":false},{"index":330,"name":"HideEmbeddedComponentsFeatureCallout","value":true},{"index":341,"name":"HideDedupeMatchResultCallout","value":false},{"index":340,"name":"HideS1BrowserUI","value":false}],"startOfWeek":"2","isAccessibleMode":false,"ampm":["AM","PM"],"renderMode":"RETRO","userId":"005b0000000vx4E","dateTimeFormat":"dd/MM/yyyy HH:mm","dateFormat":"dd/MM/yyyy","uiSkin":"Theme3","language":"en_US","siteUrlPrefix":""});
</script>

<div class="apexp bPageBlock brandSecondaryBrd bDetailBlock secondaryPalette" id="j_id0:j_id2">

<!-- TUTORIAL 01 :: BEG -->

<div class="pbHeader">
    <table border="0" cellpadding="0" cellspacing="0">
        <tr>
            <td class="pbTitle">
                <h2 class="mainTitle">Tutorial : Regularly Scrape a Web Page</h2>
            </td>

            <td>&nbsp;</td>
        </tr>
    </table>
</div>

<div class="pbBody">
<br>

<div id="j_id0:j_id2:j_id4">
    <div class="pbSubheader brandTertiaryBgr first tertiaryPalette">
        <h3>Objective :</h3>
    </div>

    <div class="pbSubsection">
        <table border="0" cellpadding="0" cellspacing="0" class="detailList">
            <tr>
                <td class="data2Col first" colspan="2">
                    <div style="margin-left: 2em">
                        A common requirement is the ability to retrieve data from an external web source to account for changes in such data.<br>
                        Consider for example, retrieving and saving a particular stock's updated price data from a financial web site such as <a href="http://finance.yahoo.com" style="color: #00f;" target=
                            "_blank">Yahoo Finance</a>.<br>
                        Modern systems make use of "web-hooks" to implement this requirement.<br>
                        Unfortunately Salesforce does not provide a similar native mechanism to easily detect and act on external web data changes.<br>
                        This tutorial will demonstrate how EDA can instead simulate changed stock price events using a polling mechanism.
                    </div>
                </td>
            </tr>

            <tr>
                <td class="data2Col last" colspan="2">
                    <p><b>Expected Duration :</b> 25 Minutes.</p>
                </td>
            </tr>
        </table>
    </div>
</div>

<div id="j_id0:j_id2:j_id9">
    <div class="pbSubheader brandTertiaryBgr tertiaryPalette">
        <h3>Scenario :</h3>
    </div>

    <div class="pbSubsection">
        <table border="0" cellpadding="0" cellspacing="0" class="detailList">
            <tr>
                <td class="data2Col first last" colspan="2">
                    <p style="font-weight: bold">Requirement :</p>

                    <ul>
                        <li>At least four times a day retrieve the price data of your favourite stock which is of course <a href="http://finance.yahoo.com/q?s=CRM" style="color: #00f;" target=
                                "_blank">CRM</a> (Salesforce).
                        </li>
                    </ul>

                    <p><br></p>

                    <p style="font-weight: bold">Implementation Overview :</p>

                    <ul>
                        <li>Simulate engaging the services of a Force.com developer to create

                            <ol>
                                <li>a generic web scrapping process <b>[</b> <img src="./ScrapeWebPageTutorial/WebScrape.png" style="vertical-align:middle;"> <b>]</b></li>

                                <li>a custom stock data parsing process <b>[</b> <img src="./ScrapeWebPageTutorial/StockParse.png" style="vertical-align:middle;"> <b>]</b> </li>
                            </ol>
                        </li>

                      

                        <li>Make the <b>[</b> <img src="./ScrapeWebPageTutorial/WebScrape.png" style="vertical-align:middle;"> <b>]</b> and <b>[</b> <img src="./ScrapeWebPageTutorial/StockParse.png" style=
                                "vertical-align:middle;"> <b>]</b> custom processes available to the EDA framework</li>

                     

                        <li>Create a <code>sequence</code> by adding and arranging processing steps in the following order:

                            <ol>
                                <li><b>[</b> <img src="./ScrapeWebPageTutorial/Schedule.png" style="vertical-align:middle;"> <b>]</b></li>

                                <li><b>[</b> <img src="./ScrapeWebPageTutorial/WebScrape.png" style="vertical-align:middle;"> <b>]</b></li>

                                <li><b>[</b> <img src="./ScrapeWebPageTutorial/StockParse.png" style="vertical-align:middle;"> <b>]</b></li>

                                <li><b>[</b> <img src="./ScrapeWebPageTutorial/WireTap.png" style="vertical-align:middle;"> <b>]</b></li>

                                
                                <li><b>[</b> <img src="./ScrapeWebPageTutorial/Terminate.png" style="vertical-align:middle;"> <b>]</b></li>
                            </ol>
                        </li>

                

                        <li>Configure the <b>[</b> <img src="./ScrapeWebPageTutorial/Schedule.png" style="vertical-align:middle;"> <b>]</b> process to fire four times a day.</li>

                        <li>Configure the <b>[</b> <img src="./ScrapeWebPageTutorial/WebScrape.png" style="vertical-align:middle;"> <b>]</b> process to retrieve the contents of 
                            <span style="color: #00f;">http://finance.yahoo.com/q?s=CRM</span> .</li>
                    </ul>

                    <p><br></p>

                    <p style="font-weight: bold">Testing :</p>

                    <ul>
              
                        <li>Enqueue a test message.</li>

                        <li>Inspect the output of this <code>Sequence</code> to confirm that it is correctly configured.</li>
                    </ul>

                    <p></p>
                </td>
            </tr>
        </table>
    </div>
</div>

<div id="j_id0:j_id2:j_id12">
    <div class="pbSubheader brandTertiaryBgr tertiaryPalette">
        <h3>Prerequisites :</h3>
    </div>

    <div class="pbSubsection">
        <table border="0" cellpadding="0" cellspacing="0" class="detailList">
            <tr>
                <td class="data2Col first last" colspan="2">
                    <ul>
                        <li>Confirm that the EDA environment is correctly setup by completing <a href="./ConfirmSetupTutorial.html" style="color: #00f;">Tutorial 01</a>
                        </li>

                        <li>Ensure that your test Org has a compiled version of the <code>EdaUtility</code> Apex class - see <a href="./ProcessDevelopersGuide.html" style="color: #00f;">Process Developer's
                            Guide, APPENDIX II</a>
                        </li>
                    </ul>
                </td>
            </tr>
        </table>
    </div>
</div>

<div id="j_id0:j_id2:j_id15">
<div class="pbSubheader brandTertiaryBgr tertiaryPalette">
    <h3>Detailed Instructions :</h3>
</div>



<div class="pbSubsection">
<table border="0" cellpadding="0" cellspacing="0" class="detailList">
<tr>
<td class="data2Col first last" colspan="2">
<ol>
<li>Create the generic <b>[</b> <img src="./ScrapeWebPageTutorial/WebScrape.png" style="vertical-align:middle;"> <b>]</b> process - simulate engaging the services of a Force.com
    developer by creating a new apex class and supporting SObjects.
    


    
    <ul>
        <br/>
        
        <li>
            To support the configuration of the
            <code>WebScrape</code>  process,
            use the screenshot below to create the <code> WebScrapeConfiguration SObject</code>
            <br/> ( by clicking  <code> Setup|Create|Objects|New Custom Object </code> )
            <br/>
            <br/> <img src="./ScrapeWebPageTutorial/WebScrapeConfigurationObject.png" style="vertical-align:middle;"/>
            
        </li>

        <br/>

        <li>
            To persist data scrapped from the web by the
            <code>WebScrape</code>  process
            use the screenshot below to create the <code> WebScrapeObject SObject</code>
            <br/> ( by clicking  <code> Setup|Create|Objects|New Custom Object </code> )
            <br/>
            <br/><img src="./ScrapeWebPageTutorial/WebScrapeObject.png" style="vertical-align:middle;"/>
        </li>
        
        <br/>
        
        <li>
            next, ...
            <br/> - paste and save the following code :
            <br/> - click <code>Setup|Develop|Apex Classes|New</code>
            <br/> - paste and save the following code :
            <br/><br/> ( <b>Note:</b> when saving, you will be prompted to create the default help file "<code>WebScrapeHelp</code>")<br>

            <div class="dp-highlighter" id="hlDiv">
                <div class="bar"></div><br>
        
                <ol class="dp-j" start="1">
                    <li class="alt"><span><span>global&nbsp;with&nbsp;sharing&nbsp;</span><span class="keyword">class</span><span>&nbsp;WebScrape&nbsp;</span><span class=
                                                                                                                                                                            "keyword">implements</span><span>&nbsp;Process.Plugin&nbsp;{&nbsp;&nbsp;</span></span></li>
        
                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
        
                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;<span class="keyword">class</span><span>&nbsp;WebScrapeException&nbsp;</span><span class=
                                                                                                                                                                         "keyword">extends</span><span>&nbsp;Exception&nbsp;{}&nbsp;&nbsp;</span></span></li>
        
                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
        
                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;<span class="keyword">class</span><span>&nbsp;Meta&nbsp;{&nbsp;&nbsp;</span></span></li>
        
                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;String&nbsp;Icon&nbsp;=&nbsp;</span><span class=
                                                                                                                                                                                        "string">'html'</span><span>;&nbsp;&nbsp;</span></span></li>
        
                    <li class="alt">
                        <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;SObject&nbsp;ConfigObject&nbsp;=&nbsp;WebScrapeConfiguration__c.SObjectType.newSobject();&nbsp;&nbsp;&nbsp;</span></li>
        
                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                                                     "keyword">public</span><span>&nbsp;String&nbsp;DocsPageUrl&nbsp;=&nbsp;Url.getSalesforceBaseUrl().toExternalForm()&nbsp;+&nbsp;Page.WebScrapeHelp.getUrl();&nbsp;&nbsp;</span></span></li>
        
                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
        
                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
        
                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;Process.PluginDescribeResult&nbsp;describe()&nbsp;{&nbsp;&nbsp;</span></li>
        
                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process.PluginDescribeResult&nbsp;describeResult&nbsp;=&nbsp;<span class=
                                                                                                                                                                  "keyword">new</span><span>&nbsp;Process.PluginDescribeResult();&nbsp;&nbsp;</span></span></li>
        
                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;describeResult.Name&nbsp;=&nbsp;<span class=
                                                                                                                                        "string">'WebScrape'</span><span>;&nbsp;&nbsp;</span></span></li>
        
                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;describeResult.Description&nbsp;=&nbsp;<span class=
                                                                                                                                            "string">'Scrapes&nbsp;a&nbsp;web&nbsp;page.'</span><span>;&nbsp;&nbsp;</span></span></li>
        
                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;describeResult.Tag&nbsp;=&nbsp;<span class=
                                                                                                                                       "string">'Example'</span><span>;&nbsp;&nbsp;</span></span></li>
        
                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;describeResult;&nbsp;&nbsp;</span></span></li>
        
                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
        
                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
        
                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;Process.PluginResult&nbsp;invoke(Process.PluginRequest&nbsp;request)&nbsp;{&nbsp;&nbsp;</span></li>
        
                    <li class="">
                        <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map&lt;String,Object&gt;&nbsp;parameters&nbsp;=&nbsp;request.inputParameters;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
        
                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
        
                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                                                     "comment">//&nbsp;web&nbsp;address&nbsp;to&nbsp;scrape</span><span>&nbsp;&nbsp;</span></span></li>
        
                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WebScrapeConfiguration__c&nbsp;configuration;&nbsp;&nbsp;</span></li>
        
                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;url;&nbsp;&nbsp;</span></li>
        
                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li>
        
                    <li class="">
                        <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configuration&nbsp;&nbsp;=&nbsp;(WebScrapeConfiguration__c)SalesforceObject.getById((Id)parameters.get(<span class="string">'eda_ConfigObjectId'</span><span>));&nbsp;&nbsp;&nbsp;</span></span></li>
        
                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;url&nbsp;=&nbsp;configuration.Url__c;&nbsp;&nbsp;&nbsp;</span></li>
        
                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class=
                                                                                                            "keyword">catch</span><span>&nbsp;(System.QueryException&nbsp;e)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li>
        
                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">throw</span><span>&nbsp;</span><span class=
                                                                                                                                                                                     "keyword">new</span><span>&nbsp;WebScrapeException(</span><span class=
                                                                                                                                                                                                                                                             "string">'Unable&nbsp;to&nbsp;access&nbsp;WebScrapeConfiguration'</span><span>);&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li>
        
                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;</span></li>
        
                    <li class="alt"><span>&nbsp;&nbsp;</span></li>
        
                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;pull&nbsp;resource</span><span>&nbsp;&nbsp;</span></span></li>
        
                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HttpRequest&nbsp;req&nbsp;=&nbsp;<span class=
                                                                                                                                         "keyword">new</span><span>&nbsp;HttpRequest();&nbsp;&nbsp;</span></span></li>
        
                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;req.setEndpoint(url);&nbsp;&nbsp;</span></li>
        
                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;req.setMethod(<span class=
                                                                                                                      "string">'GET'</span><span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li>
        
                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Http&nbsp;http&nbsp;=&nbsp;<span class=
                                                                                                                                "keyword">new</span><span>&nbsp;Http();&nbsp;&nbsp;</span></span></li>
        
                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HTTPResponse&nbsp;res&nbsp;=&nbsp;http.send(req);&nbsp;&nbsp;</span></li>
        
                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;data&nbsp;=&nbsp;res.getBody();&nbsp;&nbsp;</span></li>
        
                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;</span></li>
        
                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;save&nbsp;resource</span><span>&nbsp;&nbsp;</span></span></li>
        
                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WebScrape__c&nbsp;&nbsp;webScrape&nbsp;=&nbsp;<span class=
                                                                                                                                                      "keyword">new</span><span>&nbsp;WebScrape__c(&nbsp;&nbsp;WebScrapeConfiguration__c&nbsp;=&nbsp;configuration.Id,&nbsp;Resource__c&nbsp;=&nbsp;data.left(</span><span class=
                                                                                                                                                                                                                                                                                                                                   "number">130000</span><span>));&nbsp;&nbsp;</span></span></li>
        
                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;insert&nbsp;webScrape;&nbsp;&nbsp;</span></li>
        
                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parameters.put(<span class=
                                                                                                                       "string">'Id'</span><span>,&nbsp;webScrape.Id);&nbsp;&nbsp;&nbsp;</span></span></li>
        
                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
        
                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;EdaUtility.convert(</span><span class=
                                                                                                                                                                                 "keyword">new</span><span>&nbsp;List&lt;Map&lt;String,Object&gt;&gt;{parameters});&nbsp;&nbsp;&nbsp;</span></span></li>
        
                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
        
                    <li class="alt"><span>}&nbsp;&nbsp;</span></li>
        
                    <li class=""><span>&nbsp;&nbsp;&nbsp;</span></li>
                </ol><br>
            </div><br>
            <br>
            <br>
        </li>

    </ul>
</li>

<li>Create the yahoo finance <b>[</b> <img src="./ScrapeWebPageTutorial/StockParse.png" style="vertical-align:middle;"> <b>]</b> process - simulate engaging the services of a
    Force.com developer by creating a new apex class.<br>

    <ul>
        <br/>
        
        <li>
                  - click <code>Setup|Develop|Apex Classes|New</code>
            <br/> - paste and save the following code :
            <br/><br/>
            ( <b>Note:</b> when saving, you will be prompted to create the default help file "<code>StockParseHelp</code>")<br>
            <br>

            <div class="dp-highlighter" id="hlDiv">
                <div class="bar"></div><br>

                <ol class="dp-j" start="1">
                    <li class="alt"><span><span>global&nbsp;with&nbsp;sharing&nbsp;</span><span class="keyword">class</span><span>&nbsp;StockParse&nbsp;</span><span class=
                                                                                                                                                                             "keyword">implements</span><span>&nbsp;Process.Plugin&nbsp;{&nbsp;&nbsp;</span></span></li>

                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;<span class="keyword">class</span><span>&nbsp;StockParseException&nbsp;</span><span class=
                                                                                                                                                                          "keyword">extends</span><span>&nbsp;Exception&nbsp;{}&nbsp;&nbsp;</span></span></li>

                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;<span class="keyword">class</span><span>&nbsp;Meta&nbsp;{&nbsp;&nbsp;</span></span></li>

                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;String&nbsp;Icon&nbsp;=&nbsp;</span><span class=
                                                                                                                                                                                        "string">'table_row_delete'</span><span>;&nbsp;&nbsp;</span></span></li>

                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                                                        "keyword">public</span><span>&nbsp;String&nbsp;DocsPageUrl&nbsp;=&nbsp;Url.getSalesforceBaseUrl().toExternalForm()&nbsp;+&nbsp;Page.StockParseHelp.getUrl();&nbsp;&nbsp;</span></span></li>

                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;Process.PluginDescribeResult&nbsp;describe()&nbsp;{&nbsp;&nbsp;</span></li>

                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process.PluginDescribeResult&nbsp;describeResult&nbsp;=&nbsp;<span class=
                                                                                                                                                                     "keyword">new</span><span>&nbsp;Process.PluginDescribeResult();&nbsp;&nbsp;</span></span></li>

                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;describeResult.Name&nbsp;=&nbsp;<span class=
                                                                                                                                     "string">'StockParse'</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li>

                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;describeResult.Description&nbsp;=&nbsp;<span class=
                                                                                                                                               "string">'Extracts&nbsp;stock&nbsp;price&nbsp;from&nbsp;Yahoo&nbsp;Finance&nbsp;page&nbsp;content'</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li>

                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;describeResult.Tag&nbsp;=&nbsp;<span class=
                                                                                                                                    "string">'Example'</span><span>;&nbsp;&nbsp;&nbsp;</span></span></li>

                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;describeResult.OutputParameters&nbsp;=&nbsp;<span class=
                                                                                                                                                    "keyword">new</span><span>&nbsp;List&lt;Process.PluginDescribeResult.OutputPArameter&gt;&nbsp;{&nbsp;&nbsp;</span></span></li>

                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                                                                             "keyword">new</span><span>&nbsp;Process.PluginDescribeResult.OutputParameter(&nbsp;&nbsp;</span></span></li>

                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                                                                                                        "string">'myns_PriceData'</span><span>,&nbsp;&nbsp;</span></span></li>

                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                                                                                                     "string">'Json&nbsp;representation&nbsp;stock&nbsp;of&nbsp;ticker&nbsp;price'</span><span>,&nbsp;&nbsp;</span></span></li>

                    <li class="alt">
                        <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process.PluginDescribeResult.ParameterType.String&nbsp;&nbsp;</span></li>

                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;&nbsp;</span></li>

                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};&nbsp;&nbsp;</span></li>

                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;describeResult;&nbsp;&nbsp;</span></span></li>

                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;</span></li>

                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;Process.PluginResult&nbsp;invoke(Process.PluginRequest&nbsp;request)&nbsp;{&nbsp;&nbsp;</span></li>

                    <li class="alt">
                        <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map&lt;String,Object&gt;&nbsp;parameters&nbsp;=&nbsp;request.inputParameters;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                                                        "comment">//retrieve&nbsp;(yahoo&nbsp;finance)&nbsp;resource</span><span>&nbsp;&nbsp;</span></span></li>

                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Id&nbsp;dataId&nbsp;=&nbsp;(Id)&nbsp;parameters.get(<span class=
                                                                                                                                                         "string">'Id'</span><span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li>

                    <li class="alt">
                        <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List&lt;WebScrape__c&gt;&nbsp;webScrapes&nbsp;=&nbsp;[SELECT&nbsp;Resource__c&nbsp;FROM&nbsp;WebScrape__c&nbsp;WHERE&nbsp;Id&nbsp;=&nbsp;:dataId];&nbsp;&nbsp;&nbsp;</span></li>

                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(webScrapes.size()&nbsp;==&nbsp;</span><span class=
                                                                                                                                                                                       "number">0</span><span>)&nbsp;{&nbsp;&nbsp;</span></span></li>

                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">throw</span><span>&nbsp;</span><span class=
                                                                                                                                                                                     "keyword">new</span><span>&nbsp;StockParseException(</span><span class=
                                                                                                                                                                                                                                                              "string">'Unable&nbsp;to&nbsp;load&nbsp;yahoo&nbsp;finance&nbsp;page&nbsp;content'</span><span>);&nbsp;&nbsp;</span></span></li>

                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;</span></li>

                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;data&nbsp;=&nbsp;webScrapes[<span class=
                                                                                                                                                "number">0</span><span>].Resource__c;&nbsp;&nbsp;</span></span></li>

                    <li class=""><span>&nbsp;&nbsp;</span></li>

                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                                                        "comment">//&nbsp;parse&nbsp;out&nbsp;ticker&nbsp;and&nbsp;price&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span></span></li>

                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;&nbsp;=&nbsp;&nbsp;data.replaceAll(<span class="string">'\n'</span><span>,</span><span class=
                                                                                                                                                                                                "string">''</span><span>).replaceAll(</span><span class="string">'&nbsp;'</span><span>,</span><span class="string">''</span><span>)&nbsp;;&nbsp;&nbsp;</span></span></li>

                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;price&nbsp;=&nbsp;data.substringAfter(<span class=
                                                                                                                                                          "string">'class="time_rtq_ticker"&gt;'</span><span>).substringBefore(</span><span class="string">'&lt;/span&gt;'</span><span>).substringAfter(</span><span class=
                                                                                                                                                                                                                                                                                                                             "string">'&gt;'</span><span>);&nbsp;&nbsp;</span></span></li>

                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;ticker&nbsp;=&nbsp;data.substringAfter(<span class=
                                                                                                                                                        "string">'symbol='</span><span>).substringBefore(</span><span class=
                                                                                                                                                                                                                              "string">';'</span><span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li>

                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;=&nbsp;<span class=
                                                                                                                         "string">'{"Stock__c":&nbsp;&nbsp;[&nbsp;{"ticker__c":&nbsp;"'</span><span>+ticker+</span><span class=
                                                                                                                                                                                                                                 "string">'",&nbsp;"price__c":&nbsp;'</span><span>+price+</span><span class="string">'}&nbsp;]&nbsp;}'</span><span>;&nbsp;&nbsp;</span></span></li>

                    <li class=""><span>&nbsp;&nbsp;&nbsp;</span></li>

                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//updates:</span><span>&nbsp;&nbsp;</span></span></li>

                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                                                           "comment">//(1)&nbsp;replace&nbsp;yahoo&nbsp;with&nbsp;json&nbsp;ticker/price&nbsp;structure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span></span></li>

                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;webScrapes[<span class=
                                                                                                                         "number">0</span><span>].Resource__c&nbsp;=&nbsp;data;&nbsp;&nbsp;</span></span></li>

                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update&nbsp;webScrapes[<span class="number">0</span><span>];&nbsp;&nbsp;&nbsp;</span></span></li>

                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
                                                                                                           "comment">//(2)&nbsp;surface&nbsp;price&nbsp;data&nbsp;as&nbsp;a&nbsp;parameter&nbsp;on&nbsp;message&nbsp;for&nbsp;demo&nbsp;purposes</span><span>&nbsp;&nbsp;</span></span></li>

                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parameters.put(<span class=
                                                                                                                             "string">'myns_PriceData'</span><span>,data);&nbsp;&nbsp;</span></span></li>

                    <li class=""><span>&nbsp;&nbsp;</span></li>

                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>

                    <li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;EdaUtility.convert(</span><span class=
                                                                                                                                                                              "keyword">new</span><span>&nbsp;List&lt;Map&lt;String,Object&gt;&gt;{parameters});&nbsp;&nbsp;&nbsp;</span></span></li>

                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>

                    <li class=""><span>}&nbsp;&nbsp;</span></li>

                    <li class="alt"><span>&nbsp;&nbsp;&nbsp;</span></li>
                </ol><br>
            </div><br>
            <br>
            <br>
        </li>
        
    </ul>

</li>

<li>Click on the list view of the <img src="./ScrapeWebPageTutorial/Processes.png" style="vertical-align:middle;"> tab.<br>
    Click the <img src="./ScrapeWebPageTutorial/Discover.png" style="vertical-align:middle;"> button so that the EDA framework discovers and registers the recently created <b>[</b>
    <img src="./ScrapeWebPageTutorial/WebScrape.png" style="vertical-align:middle;"> <b>]</b> and <b>[</b> <img src="./ScrapeWebPageTutorial/StockParse.png" style=
            "vertical-align:middle;"> <b>]</b> processes.<br>
    ( For futher details, refer to the <a href="./ProcessDiscoveryTutorial.html" style="color: #00f;">Process Discovery Tutorial</a>. )<br>
</li>

<li style="list-style: none"><br></li>

<li>Set up a remote site for the Yahoo finance domain.<br>
    Cick <code>Setup|Security Controls|RemoteSite Settings</code> and enter the Remote Site URL <b>[</b> <a href="http://finance.yahoo.com">http://finance.yahoo.com</a> <b>]</b><br>
    <img src="./ScrapeWebPageTutorial/RemoteSiteDetails.png" style="vertical-align:middle;"><br>
    <br>
    <br>
</li>

<li>Create a new <code>Sequence</code>.<br>
    Click the <img src="./ScrapeWebPageTutorial/EventDrivenArchitectureApplication.png" style="vertical-align:middle;"> application , select the <img src=
                                                                                                                                                              "./ScrapeWebPageTutorial/Sequences.png" style="vertical-align:middle;"> tab .<br>
    Then click [ New ] and name the new sequence <code>TestWebScrape</code>.<br>
    Finally click [ Save ]<br>
    You will be presented with a new sequence that includes a default <b>[</b> <img src="./ScrapeWebPageTutorial/Terminate.png" style="vertical-align:middle;"> <b>]</b> process.<br>
    <br>
    <br></li>

<li>Add <code>steps</code> to the sequence.<br>
    Click the <img src="./ScrapeWebPageTutorial/NewStep.png" style="vertical-align:middle;"> repeatedly :<br>
    &nbsp; &nbsp; &nbsp; - From the <b>[</b> <img src="./ScrapeWebPageTutorial/ExtEda.png" style="vertical-align:middle;"> <b>]</b> tab , select a <b>[</b> <img src=
                                                                                                                                                                         "./ScrapeWebPageTutorial/Schedule.png" style="vertical-align:middle;"> <b>]</b> process and a <b>[</b> <img src="./ScrapeWebPageTutorial/Wiretap.png" style="vertical-align:middle;">
    <b>]</b> process<br>
    &nbsp; &nbsp; &nbsp; - From the <b>[</b> <img src="./ScrapeWebPageTutorial/ExtExample.png" style="vertical-align:middle;"> <b>]</b> tab , select a <b>[</b> <img src=
                                                                                                                                                                             "./ScrapeWebPageTutorial/WebScrape.png" style="vertical-align:middle;"> <b>]</b> process and a <b>[</b> <img src="./ScrapeWebPageTutorial/StockParse.png" style=
            "vertical-align:middle;"> <b>]</b> process.<br>
    <br></li>

<li>Arrange the <code>steps</code>.<br>
    Using drag and drop, arrange the processing steps in the following order:<br>
    <br>
    <img src="./ScrapeWebPageTutorial/TestWebScrapeSequence01.png" style="vertical-align:middle;"><br>
    <br>
    <br>
    <br>
    <br></li>

<li>Configure the <code>Schedule</code> process.<br>
    Click the <img src="./ScrapeWebPageTutorial/ConfigureLink.png" style="vertical-align:middle;"> link next to the <b>[</b> <img src="./ScrapeWebPageTutorial/Schedule.png" style=
            "vertical-align:middle;"> <b>]</b> process and set the schedule to fire four times during weekdays.<br>
    (<b>Note</b> : Care should be taken to align scheduled times with trading hours of the New York Stock Exchange after accounting for time zone differences of your organization)<br>
    <img src="./ScrapeWebPageTutorial/ScheduleConfigurationComplete.png" style="vertical-align:middle;"><br>
    <br>
    Click
    <img src="./ScrapeWebPageTutorial/Save.png" style="vertical-align:middle;">
    and exit the configure screen.<br>
    <br>
    <br></li>

<li>Configure the <code>WebScrape</code> process.<br>
    Click the <img src="./ScrapeWebPageTutorial/ConfigureLink.png" style="vertical-align:middle;"> link next to the <b>[</b> <img src="./ScrapeWebPageTutorial/WebScrape.png" style=
            "vertical-align:middle;"> <b>]</b> process and set <b>[</b> <span style="color: #00f;">http://finance.yahoo.com/q?s=CRM</span> <b>]</b> as the endpoint on the <b>[</b> <img src=
                                                                                                                                                                                                 "./ScrapeWebPageTutorial/WebScrape.png" style="vertical-align:middle;"> <b>]</b> configuration page.<br>
    <br>
    <img src="./ScrapeWebPageTutorial/WebScrapeConfigurePage.png" style="vertical-align:middle;"><br>
    <br>
    Click
    <img src="./ScrapeWebPageTutorial/Save.png" style="vertical-align:middle;">
    and exit the configure screen.<br>
    <br>
    <br></li>

<li>Test the Sequence.<br>
    To test this sequence, enqueue a message by clicking the <img src="./Sequence/injectTestMessage.png" style="vertical-align:middle;"> button<br>
    (<b>Note</b> : under production conditions, one or more polling messages will be enqueued as defined in the configuraton of the <b>[</b> <img src=
                                                                                                                                                          "./ScrapeWebPageTutorial/Schedule.png" style="vertical-align:middle;"> <b>]</b> process.)<br>

    The <b>[</b> <img src="./ScrapeWebPageTutorial/Wiretap.png" style="vertical-align:middle;"> <b>]</b> process towards the end of the <code>sequence</code> will send an email to the
    account associated with the user running the test.<br>
    The email body will contain the values of all message parameters at the point at which the <b>[</b> <img src="./ScrapeWebPageTutorial/Wiretap.png" style="vertical-align:middle;">
    <b>]</b> process performs the email transmission.<br>
    The formatted body should approximate the following.<br>
    <br>

    <div class="dp-highlighter" id="hlDiv">
        <div class="bar"></div><br>

        <ol class="dp-c" start="1">
            <li class="alt"><span>{&nbsp;&nbsp;</span></li>

            <li class=""><span>&nbsp;&nbsp;<span class="string">"eda_Position"</span><span>&nbsp;:&nbsp;3,&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;<span class="string">"eda_SequenceName"</span><span>&nbsp;:&nbsp;</span><span class=
                                                                                                                                    "string">"TestWebScrape"</span><span>,&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;<span class="string">"Id"</span><span>&nbsp;:&nbsp;</span><span class="string">"a0Lo0000001IO8LEAW"</span><span>,&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;<span class="string">"myns_PriceData"</span><span>&nbsp;:&nbsp;</span><span class=
                                                                                                                                  "string">"{\"Stock__c\":&nbsp;&nbsp;[&nbsp;{\"ticker__c\":&nbsp;\"CRM\",&nbsp;\"price__c\":&nbsp;53.89}&nbsp;]&nbsp;}"</span><span>,&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;<span class="string">"eda_StackDepth"</span><span>&nbsp;:&nbsp;2,&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>&nbsp;&nbsp;<span class="string">"eda_EntryPointGuid"</span><span>&nbsp;:&nbsp;</span><span class=
                                                                                                                                      "string">"0476b335a9ea3b994c"</span><span>,&nbsp;&nbsp;</span></span></li>

            <li class=""><span>&nbsp;&nbsp;<span class="string">"eda_ConfigObjectId"</span><span>&nbsp;:&nbsp;</span><span class="keyword">null</span><span>&nbsp;&nbsp;</span></span></li>

            <li class="alt"><span>}&nbsp;&nbsp;</span></li>
        </ol><br>
    </div><br>
    Visually confirm the Sequence worked as expected by inspecting the <code>myns_PriceData</code> parameter injected into the message by the <b>[</b> <img src=
                                                                                                                                                                    "./ScrapeWebPageTutorial/StockParse.png" style="vertical-align:middle;"> <b>]</b> process.<br>
</li>
</ol>
</td>
</tr>
</table>
</div>
</div>



<div class="pbFooter secondaryPalette bg"></div>
</div>

<!-- TUTORIAL 01 :: END -->

<br/>

<!-- TUTORIAL: 02 :: BEG -->

<div class="pbHeader">
    <table border="0" cellpadding="0" cellspacing="0">
        <tr>
            <td class="pbTitle">
                <h2 class="mainTitle">Bonus Exercise  : Subscribe to a Sequence </h2>
            </td>

            <td>&nbsp;</td>
        </tr>
    </table>
</div>

<div class="pbBody">
<br>



<div id="j_id0:j_id2:j_id4">
    <div class="pbSubheader brandTertiaryBgr first tertiaryPalette">
        <h3>Objective :</h3>
    </div>

    <div class="pbSubsection">
        <table border="0" cellpadding="0" cellspacing="0" class="detailList">
            <tr>
                <td class="data2Col first" colspan="2">
                    <div style="margin-left: 2em">
                        A common requirement is the ability to broadcast the same business event one or more business process(es).
                        <br>This pattern is commonly known as Pub/Sub.
                        <br>This tutorial will demonstrate how any sequence in the EDA framework can subscribe to events emitted from any given publishing sequence
                    </div>
                </td>
            </tr>

            <tr>
                <td class="data2Col last" colspan="2">
                    <p><b>Expected Duration :</b> 10 Minutes.</p>
                </td>
            </tr>
        </table>
    </div>
</div>

<div id="j_id0:j_id2:j_id9">
    <div class="pbSubheader brandTertiaryBgr tertiaryPalette">
        <h3>Scenario :</h3>
    </div>

    <div class="pbSubsection">
        <table border="0" cellpadding="0" cellspacing="0" class="detailList">
            <tr>
                <td class="data2Col first last" colspan="2">
                    <p style="font-weight: bold">Requirement :</p>

                    <ul>
                        <li>Modify the <code>TestWebScrape</code> sequence so that is publishes the json formatted stock data to a named event called "<code>yahoo</code>".<br>
                            Create a second sequence that subscribes to the "<code>yahoo</code>" named event</li>
                    </ul>

                    <p><br></p>

                    <p style="font-weight: bold">Implementation Overview :</p>

                    <ul>
                        <li>Modify the <code>TestWebScrape</code> by introducing a <b>[</b> <img src="./ScrapeWebPageTutorial/Publish.png" style="vertical-align:middle;"> <b>]</b> process towards the end
                            of the sequence and arrange the processing steps in the following order:
                            <ol>
                                <li><b>[</b> <img src="./ScrapeWebPageTutorial/Schedule.png" style="vertical-align:middle;"> <b>]</b></li>
                                <li><b>[</b> <img src="./ScrapeWebPageTutorial/WebScrape.png" style="vertical-align:middle;"> <b>]</b></li>
                                <li><b>[</b> <img src="./ScrapeWebPageTutorial/StockParse.png" style="vertical-align:middle;"> <b>]</b></li>
                                <li><b>[</b> <img src="./ScrapeWebPageTutorial/WireTap.png" style="vertical-align:middle;"> <b>]</b></li>
                                <li><b>[</b> <img src="./ScrapeWebPageTutorial/Publish.png" style="vertical-align:middle;"> <b>]</b></li>
                                <li><b>[</b> <img src="./ScrapeWebPageTutorial/Terminate.png" style="vertical-align:middle;"> <b>]</b></li>
                            </ol>
                        </li>

                      
                        <li>Create a second sequence "<code>TestSubscribe</code>" by adding and arranging processing steps in the following order:

                            <ol>
                                <li><b>[</b> <img src="./ScrapeWebPageTutorial/Subscribe.png" style="vertical-align:middle;"> <b>]</b></li>
                                <li><b>[</b> <img src="./ScrapeWebPageTutorial/WireTap.png" style="vertical-align:middle;"> <b>]</b></li>
                                <li><b>[</b> <img src="./ScrapeWebPageTutorial/Terminate.png" style="vertical-align:middle;"> <b>]</b></li>
                            </ol>
                        </li>

                       

                        <li>Create the named event, "<code>yahoo</code>"</li>

                      

                        <li>Configure the <b>[</b> <img src="./ScrapeWebPageTutorial/Publish.png" style="vertical-align:middle;"> <b>]</b> process so that it publishes to the "<code>yahoo</code>" named
                            event</li>

                        <li>Configure the <b>[</b> <img src="./ScrapeWebPageTutorial/Subscribe.png" style="vertical-align:middle;"> <b>]</b> process so that it publishes to the "<code>yahoo</code>" named
                            event</li>
                    </ul>

                    <p><br></p>

                    <p style="font-weight: bold">Testing :</p>

                    <ul>
      
                        <li>Enqueue a test message.</li>

                        <li>Inspect the output of this <code>sequence</code> to confirm that it is correctly configured.</li>
                    </ul>

                    <p></p>
                </td>
            </tr>
        </table>
    </div>
</div>


<div id="j_id0:j_id2:j_id15">
<div class="pbSubheader brandTertiaryBgr tertiaryPalette">
    <h3>Detailed Instructions :</h3>
</div>

 
<div class="pbSubsection">
<table border="0" cellpadding="0" cellspacing="0" class="detailList">
<tr>
<td class="data2Col first last" colspan="2">
<ol>
    <li> Modify the <code>TestWebScrape</code> so that it publishes stock price events.
        <br/>Click  the <img src="./ScrapeWebPageTutorial/Sequences.png" style="vertical-align:middle;"> tab.
        <br/> Click the  <code>TestWebScrape</code> sequence
        <br/> Click the <img src="./ScrapeWebPageTutorial/NewStep.png" style="vertical-align:middle;"> button.
        <br/> From the <b>[</b> <img src="./ScrapeWebPageTutorial/ExtEda.png" style="vertical-align:middle;"> <b>]</b> 
              tab , select the 
              <b>[</b> <img src="./ScrapeWebPageTutorial/Publish.png" style="vertical-align:middle;"> <b>]</b>
              process.
        <br/> Using drag and drop position the
              <b>[</b> <img src="./ScrapeWebPageTutorial/Publish.png" style="vertical-align:middle;"> <b>]</b>
              processs so that it immeadiately precedes the 
               <b>[</b> <img src="./ScrapeWebPageTutorial/Terminate.png" style="vertical-align:middle;"> <b>]</b>
               process.
        <br>
        <br/> Once arranged, the revised sequence should approximate the following:
        <br>
        <br/><img src="./ScrapeWebPageTutorial/TestWebScrapeSequence01.png" style="vertical-align:middle;"><br>
        <br>
    </li>

    <br/>
    <br/>
    <br/>
    
    <li> Create a sequence that subscribes to stock price events.
        <br/> click the <img src="./ScrapeWebPageTutorial/Sequences.png" style="vertical-align:middle;"> tab.
        <br/>Then click [ New ] and name the new sequence <code>TestSubscribe</code>.
        <br/>Finally click [ Save ].
        <br/>You will be presented with a new sequence that includes a default <b>[</b> <img src="./ScrapeWebPageTutorial/Terminate.png" style="vertical-align:middle;"> <b>]</b> process.
        <br/> Next, ...
        <br/> click the <img src="./ScrapeWebPageTutorial/NewStep.png" style="vertical-align:middle;"> button.
        <br/> From the <b>[</b> <img src="./ScrapeWebPageTutorial/ExtEda.png" style="vertical-align:middle;"> <b>]</b>
        tab , select a
        <b>[</b> <img src="./ScrapeWebPageTutorial/Subscribe.png" style="vertical-align:middle;"> <b>]</b>
        process and a
        <b>[</b> <img src="./ScrapeWebPageTutorial/WireTap.png" style="vertical-align:middle;"> <b>]</b>
        process.
        <br/> Using drag and drop, position  the
        <b>[</b> <img src="./ScrapeWebPageTutorial/WireTap.png" style="vertical-align:middle;"> <b>]</b>
        process so that it
        <br/> - immediately follows the
        <b>[</b> <img src="./ScrapeWebPageTutorial/Subscribe.png" style="vertical-align:middle;"> <b>]</b>
        process and 
        <br/> - immediately precedes the
        <b>[</b> <img src="./ScrapeWebPageTutorial/Terminate.png" style="vertical-align:middle;"> <b>]</b>
        process.
        <br/>
        <br/> Once arranged, the sequence should approximate the following:
        <br>
        <br/><img src="./ScrapeWebPageTutorial/TestSubscribeSequence01.png" style="vertical-align:middle;"><br>
        <br>
        <br>
        <br>
        <br></li>
        
        
        
    </li>

    <br/>
 
 
    <li> Configure the  <code>Publish</code>   process
       <br/> On the <code>TestWebScrape</code> sequence, click the
             <img src="./ScrapeWebPageTutorial/ConfigureLink.png" style="vertical-align:middle;"> 
             link next to the 
             <b>[</b> <img src="./ScrapeWebPageTutorial/Publish.png" style="vertical-align:middle;"> <b>]</b>
             process.
        <br/> Click the 
            <img  src="./ScrapeWebPageTutorial/ManageEventTypes.png" style="vertical-align:middle;">
            button on the <code>Publish Configuration</code> screen
        <br/> Click the
        <img  src="./ScrapeWebPageTutorial/NewEventType.png" style="vertical-align:middle;">
        button
        <br/> Enter "yahoo" in the <code>Event Type Name</code> text field
        ( 
        <img  src="./ScrapeWebPageTutorial/EventTypeYahoo.png" style="vertical-align:middle;">
        ) , then click
        <img src="./ScrapeWebPageTutorial/Save.png" style="vertical-align:middle;">
        .
        <br/> ( If necessary, close the screen to return to the <code>Publish Configuration</code> screen )
        <br/> Next, ...
        <br/> Click the
              <img src="./ScrapeWebPageTutorial/Edit.png" style="vertical-align:middle;">
              button and in the <code>Event Type</code> lookup, select the named event value <code>yahoo</code>
              created in the previous step
        <br/> Click
               <img src="./ScrapeWebPageTutorial/Save.png" style="vertical-align:middle;">
              and close the screen to return to the <code>TestWebScrape</code> sequence
        <br/> (If necessary, refresh the screen to display an updated description of the step )
    </li>

    <br/>

    <li> Configure the  <code>Subscibe</code>   process
        <br/> On the <code>TestSubscribe</code> sequence, click the
        <img src="./ScrapeWebPageTutorial/ConfigureLink.png" style="vertical-align:middle;">
        link next to the
        <b>[</b> <img src="./ScrapeWebPageTutorial/Subscribe.png" style="vertical-align:middle;"> <b>]</b>
        process.
        <br/> Click the
        <img src="./ScrapeWebPageTutorial/Edit.png" style="vertical-align:middle;">
        button and in the <code>Event Type</code> lookup, select the named event value <code>yahoo</code>
        created during the configuration of the
        <b>[</b> <img src="./ScrapeWebPageTutorial/Publish.png" style="vertical-align:middle;"> <b>]</b>
        process.
        <br/> Click
        <img src="./ScrapeWebPageTutorial/Save.png" style="vertical-align:middle;">
        and close the screen to return to the <code>TestSubscribe</code> sequence
        <br/> (If necessary, refresh the screen to display an updated description of the step )  
    </li>

    <br/>
    
    <li>Test the Sequence.
        <br> To test the configured Pub/Sub functionality,
             click the
             <img src="./Sequence/injectTestMessage.png" style="vertical-align:middle;"> button
             on the <code>TestWebScrape</code>  sequence

        <br> If the <code> WebScapeTest</code> and <code>SubscribeTest</code> sequences are correctly configured
             one would expect the enqueued message to  pass through two instances
             <b>[</b> <img src="./ScrapeWebPageTutorial/Wiretap.png" style="vertical-align:middle;">  <b>]</b>
             processes.

        <br>  Visually confirm by inspecting the email account of the executing user
    </li> 
    
</ol>
</td>
</tr>
</table>
</div>
</div>

<div class="pbFooter secondaryPalette bg"></div>
</div>

<!-- TUTORIAL 02 :: END -->


<br/>

<div class="contact">
    webmaster@bigassforce.com &middot; (+44) 07545 169 989 &middot; <a href="http://www.bigassforce.com/" style="color: #00f;" target="_blank">www.bigassforce.com</a>
</div><br>
<br>
</div>
</body>
</html>
 