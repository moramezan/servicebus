<!DOCTYPE html>
<html>
<head>
    <title></title>
    <style>
        body {background: url('./inPageClouds.png') top left no-repeat;}

        code {font-family: "Courier New", Courier, "Lucida Sans Typewriter", "Lucida Typewriter", monospace; font-size:95%;}
        .contact {font-family: "Courier New", Courier, "Lucida Sans Typewriter", "Lucida Typewriter", monospace;
            font-size:102%;
            text-align:center}
        .contact.dot {font-weight:bold;}
        a {text-decoration:none;}
        .gist-file{
            margin-top: 10px;
            margin-right: 20px;
        }
    </style>
</head>
<body>
    <table>
        <tr>
            <td>
                <h2>
                    Orchestrator's Guide
                </h2>
            </td>
            <td>
                &nbsp;
            </td>
        </tr>
    </table><br>
    <table>
        <tr>
            <td>
                <br>
                <b>Intended Audience :</b> Configurator / Business Analyst / Salesforce System
                Administrator<br>
                <br>
            </td>
        </tr>
        <tr>
            <td>
                <br>
                <b>About This Guide :</b><br>
                <ul>
                    <li>This guide is intended for Business Analysts and System Administrators
                        who primarily make use of point and click actions to operate, configure, and
                        maintain ESB applications.
                    </li>
                    <li style="list-style: none">
                        <br>
                    </li>
                    <li>The purpose of this guide is to:
                        <ol>
                            <li style="list-style: none">
                                <br>
                            </li>
                            <li>Explain basic messaging and communication concepts and terminology.
                            </li>
                            <li>Describe how to use point and click as a tool to configure ESB sequences.
                            </li>
                            <li>Describe how to use use point and click to operate and monitor the
                                ESB application.
                            </li>
                        </ol>
                    </li>
                    <li style="list-style: none">
                        <br>
                    </li>
                    <li>This guide does not cover designing building and deploying custom ESB processes. 
                        This topic is described in the separate 
                        <a href="./ProcessDevelopersGuide.html" style="color: #00f;">Process Developer's Guide</a> .
                    </li>
                </ul><br>
                <br>
            </td>
        </tr>
        <tr>
            <td>
                <br>
                <b>Chapter Summary :</b><br>
                <ul>
                    <li>
                        <b>CHAPTER 01 :</b> Configuration and Overview
                    </li>
                    <li>
                        <b>CHAPTER 02 :</b> Messaging Concepts
                    </li>
                    <li>
                        <b>CHAPTER 03 :</b> Enterprise Service Bus Concepts
                    </li>
                    <li>
                        <b>CHAPTER 04 :</b> Framework Boundaries
                    </li>
                    <li>
                        <b>CHAPTER 05 :</b> Getting Started
                    </li>
                </ul>
            </td>
        </tr>
    </table><br>
    <h3>
        CHAPTER 01 : Configuration and Overview
    </h3>
    <table>
        <tr>
            <td>
                You can use point and click to design and configure your ESB sequences.<br>
                More specifically, you can :
                <ul>
                    <li>Arrange processing steps into a logical processing sequence
                    </li>
                    <li>Combine two or more processing sequences by using PubSub or Branching
                        techniques.
                    </li>
                    <li>Register ESB processes delivered via third party Salesforce
                        packages
                    </li>
                    <li>Enqueue a test message to a specific Sequence.
                    </li>
                </ul><br>
                <br>
                You can use point and click to operate and monitor your ESB sequences.<br>
                More specifically, you can :
                <ul>
                    <li>Start and Stop the framework.
                    </li>
                    <li>Restart corrected messages.
                    </li>
                    <li>Monitor the system health.
                    </li>
                    <li>Monitor related messages.
                    </li>
                    <li>Monitor processing details within a processing sequence
                    </li>
                </ul>
            </td>
        </tr>
    </table><br>
    <h3>
        CHAPTER 02 : Messaging Concepts
    </h3>
    <table>
        <tr>
            <td>
                <br>
                <b>Messages and Events :</b><br>
                <ul>
                    <li>Events occur all the time. (For example: the clock strikes twelve, the
                        fuel tank reaches empty)
                    </li>
                    <li>To represent details about an event in a computer system, we use a
                        special object called a message
                    </li>
                    <li>The primary purpose of a message is to provide a useful mechanism to
                        communicate to a processes that a particular event has occurred.
                    </li>
                </ul><br>
                <br>
            </td>
        </tr>
        <tr>
            <td>
                <br>
                <b>Event Based Architecture :</b><br>
                <ul>
                    <li>Specific events are only relevant to specific processes.
                        <br/>For this reason a <code>broker</code> routes event messages 
                        (representing specific events) to specific processes within the system.
                    </li>
                    <li>Combinations of specific event messages to specific processes can be
                        reduced to a routing table called a <code>Sequence</code>. 
                    </li>
                    <li>Breaking up work into specific processes that respond to specific event
                        messages is known <i>"Event Driven Architecture"</i>  ("EDA" ).
                        <br/>The  <i>Enterprise Service Bus</i> (or simply "ESB") is a 
                        specific implementation of <i>"Event Driven Architecture"</i>
                    </li>
                </ul><br>
                <br>
            </td>
        </tr>
        <tr>
            <td>
                <br>
                <b>Command Response Architecture :</b><br>
                <ul>
                    <li>Most implementations on Salesforce make use of an alternative to EDA
                        called <i>"Command-Response Architecture"</i>.
                    </li>
                    <li>Under this model, work is centrally directed from a command such as a
                        button click or a trigger action.
                    </li>
                    <li>Complexity grows in an geometric manner as possible execution paths and
                        exception handling paths are added to the logic directly attached to the
                        command.
                    </li>
                </ul><br>
                <br>
            </td>
        </tr>
        <tr>
            <td>
                <br>
                <b>ESB Processes :</b><br>
                <ul>
                    <li>As previously mentioned, events in an ESB framework are
                        represented as messages
                    </li>
                    <li>A message received by a process that has previously registered it's
                        interest in that message type will cause the logic of that 
                        process to fire
                    </li>
                </ul><br>
                <br>
            </td>
        </tr>
        <tr>
            <td>
                <br>
                <b>Processing Sequence :</b><br>
                <ul>
                    <li>An ESB framework facilitates useful work on the
                        Salesforce platform via processes that have previously registered their
                        interest the occurrence of a specific event types.
                    <br/>(In practise this means that a process registers it's interest in events
                        emitted from the process that immediately precedes it.)
                    </li>
                    <li>A register of interest containing sufficient number of processes will
                        naturally resemble a sequence of chained processing steps
                    </li>
                    <li>This register is called a <code>Sequence</code> and the sequential
                        processing steps within it are called (sequence) <code> Steps</code>
                    </li>
                </ul><br>
                <br>
            </td>
        </tr>
        <tr>
            <td>
                <br>
                <b>Summary :</b><br>
                <ul>
                    <li>The ESB framework is implemented using 
                        Event Driven Architecture (EDA).
                    </li>
                    <li>The ESB framework logically maps processing steps to an underlying business requirement.
                    </li>
                    <li>
                        Emphasis is placed on narrowly defined , composable units of work.
                        - each unit of work responds to the occurrence of a specific event type.
                    </li>

                    <li>
                        The ESB framework provides a clean model that limits complexity in the system to just the
                        testable apex implementation details of any given process.
                    <br/>In contrast, the Command-Response paradigm attempts to attach all
                        possible logical code paths and associated exception handling to a single
                        specific command.<br>
                        This creates code complexity that is not easily tested or modified.
                    </li>
                </ul><br>
                <br>
            </td>
        </tr>
    </table><br>
    <h3>
        CHAPTER 03 : Enterprise Service Bus Concepts
    </h3>
    <table>
        <tr>
            <td>
                <br>
                ESB concepts described in this chapter are:<br>
                <ul>
                    <li>Processing Sequence
                    </li>
                    <li>Process
                    </li>
                    <li>Routing
                    </li>
                    <li>Configuration
                    </li>
                    <li>Logging
                    </li>
                </ul><br>
                <br>
            </td>
        </tr>
        <tr>
            <td>
                <br>
                <b>Processing Sequence :</b><br>
                <ul>
                    <li>Work under the ESB framework is broken up into many specific tasks
                    </li>
                    <li>Each task is implemented as an Apex class and is called an ESB process.
                    </li>
                    <li>Logically related processes are assembled by the System Configurator (or
                        Business Analyst ) into sequential processing steps called a <code>
                            Sequence</code>
                    </li>
                </ul><br>
                <br>
            </td>
        </tr>
        <tr>
            <td>
                <br>
                <b>Process :</b><br>
                <ul>
                    <li>Every ESB process responds to an input message by emitting a list of
                        zero, one or more output messages
                    </li>
                    <li>The ESB framework is designed so that output messages from a process
                        automatically feed the input stream of the very next process in a
                        <code> Sequence</code>.
                    </li>
                    <li>The ESB framework has by default a number of ready made processes that
                        can be sequenced together so that useful work can be completed.
                    </li>
                    <li>These ready made processes include: <code>Wiretap</code> ,
                        <code>Jump</code> , <code>Branch</code> , <code>SubSequence</code> ,
                        <code>Publish</code> and <code>Subscribe</code>
                    </li>
                    <li>Additional processes can be easily created to implement tasks specific to
                        your particular requirement(s).<br>
                        Detailed instructions for building processes can be found in the 
                        <a href="./ProcessDevelopersGuide.html" style="color: #00f;">Process Developer's Guide</a>
                    </li>
                </ul><br>
                <br>
            </td>
        </tr>
        <tr>
            <td>
                <br>
                <b>Routing :</b><br>
                <ul>
                    <li>Routing is the term used to denote the marshalling of event messages
                        between ESB processes.
                    </li>
                    <li>As previously mentioned, the assembling or linking of processes in a
                        specific order via point and click creates a sequence of processing<code>
                            Steps</code>.
                    </li>
                    <li>Each <code>Processing Step</code> in the Sequence has a definitive
                        position associated with it.
                    </li>
                    <li>The first step in the Sequence has a position of "1", the second has a
                        position of "2" and so forth
                    </li>
                    <li>Using the ordered position of each step, the ESB framework is able to route
                        an event messages along it's configured processing <code> Sequence</code>
                    </li>
                </ul><br>
                <br>
            </td>
        </tr>
        <tr>
            <td>
                <br>
                <b>Configuration :</b><br>
                <ul>
                    <li>The ESB framework makes a clear distinction between :
                        <ul>
                            <li>
                                <i>what</i> is to be performed (via declarative point and click
                                assembling of processes)
                            </li>
                            <li style="list-style: none">and
                            </li>
                            <li>
                                <i>how</i> it is performed (via imperative apex code defining each
                                process - see 
                                <a href="./ProcessDevelopersGuide.html" style="color: #00f;">Process Developer's Guide</a> 
                                for further details. )
                            </li>
                        </ul>
                    </li>
                    <li style="list-style: none">
                        <br>
                    </li>
                    <li>Assembling processes in a useful sequence and thereby fulfilling the
                        intent of the underlying business requirement is the domain of the business
                        analyst and not necessarily the Apex Developer.<br>
                        It therefore the role of the System Orchestrator / Business Analyst to
                        configure the ESB framework :
                        <ul>
                            <li>by linking ESB processes together in a processing <code> Sequence</code>
                                using friendly names that adequately describe the collective nature of
                                the work being preformed (for example "ProcessInvoices" )
                            </li>
                            <li>by identifying tasks in a  <code> Sequence</code> that have no corresponding ESB
                                process (otherwise defined as "missing processes")
                            </li>
                            <li>by specifying and provisioning missing ESB processes, often  by
                                securing the development expertise of a suitable Force.com developer
                            </li>
                        </ul>
                    </li>
                </ul><br>
                <br>
            </td>
        </tr>
        <tr>
            <td>
                <br>
                <b>Logging :</b><br>
                <br>
                Salesforce prevents writing to the system log in a Production environment.<br>
                As a useful substitute, the EDA framework provides two logging mechanisms :
                <ul>
                    <li>
                        <b>WireTap</b><br>
                        A <code>Wiretap</code> process acts a no-operation process and has no side
                        effects.<br>
                        A <code>Wiretap</code> process will  send an email containing the
                        current event message to a nominated user.
                    </li>
                    <li style="list-style: none">
                        <br>
                    </li>
                    <li>
                        <b>LogWriter</b><br>
                        A <code>LogWriter</code> process acts a no-operation pass through process
                        and has no side effects.<br>
                        A <code>LogWriter</code> will however store the event message under a
                        useful business identifier.<br>
                        Many <code>LogWriter</code> processes placed at strategic steps in a
                        <code>Sequence</code> can usefully track and relate the progress of event
                        messages using a common business identifier.
                    </li>
                </ul><br>
                <br>
            </td>
        </tr>
    </table><br>
    <h3>
        CHAPTER 04 : Framework Boundaries
    </h3>
    <table>
        <tr>
            <td>
                <br>
                <b>External Boundary - Inbound :</b><br>
                <ul>
                    <li>External events (for example <code>"Time is 12:01" , "Stock price changed"</code>)
                        are not directly consumable by the ESB framework.
                    </li>
                    <li>Instead, ESB configurators make use of the <code>enqueue()</code> method to
                        transform an external events into event messages that are consumable by the ESB framework.
                    </li>
                    <li>The ESB framework supports two variations of the enqueue() method, namely
                        <ol>
                            <li>
                                <code>Enqueue(String SequenceName, Id id )</code> and
                            </li>
                            <li>
                                <code>Enqueue(String SequenceName, Blob data )</code>
                            </li>
                        </ol><br>
                        <b>Usage:</b><br>
                        The "<code>SequenceName</code>" parameter defines which configured
                        processing sequence will respond to the injected message event.
                        <ul>
                            <li>
                                Use the <code>Enqueue(String SequenceName, Id id )</code> method 
                                <br/>whenever  the data related to the external event is retrievable as a Salesforce
                                object using the object's <code>Id</code>.
                            </li>
                            <li>
                                Use the <code>Enqueue(String SequenceName, Blob data )</code> method
                                <br/>whenever the data related to the external event is a stream of data not yet
                                persisted in Salesforce by passing in that stream in the form of a
                                <code>Blob</code>.  
                            </li>
                        </ul>

                    </li>
                </ul><br>
                <br>
            </td>
        </tr>
        <tr>
            <td>
                <br>
                <b>External Boundary - Outbound :</b><br>
                <ul>
                    <li>Any process is free to communicate outside the framework boundary via
                        <ul>
                            <li>http callouts
                            </li>
                            <li>the invocation of a workflow rules
                            </li>
                            <li>DML operations, and/or
                            </li>
                            <li>the sending of one or more email messages
                            </li>
                        </ul>
                    </li>
                </ul><br>
                <br>
            </td>
        </tr>
        <tr>
            <td>
                <br>
                <b>Internal Boundary :</b><br>
                <ul>
                    <li>All Sequences have a <code>Terminator</code> process as their final
                        processing step.<br>
                        (Conceptually this is very similar to a "buffer stop" at the end of a
                        railway line)
                    </li>
                    <li>A <code>Terminator</code> processing step is automatically inserted when
                        the processing  <code>Sequence</code> is created.
                    </li>
                    <li>Sequences may interact with one another via one of four standard
                        pre-packaged processes, namely 
                        <br/> <code>Jump</code>,
                        <br/>  <code>Branch</code>,
                        <br/>  <code> Subroutine</code> or
                        <br/>  <code>Publish/Subscribe</code> 
                        <br/> (see <a href="./CoreprocessesGuide.html" style="color: #00f;">Core processes Guide</a>
                        for further details.)
                    </li>
                </ul><br>
                <br>
            </td>
        </tr>
    </table><br>
    <h3>
        CHAPTER 05 : Getting Started
    </h3>
    <table>
        <tr>
            <td>
                <br>
                The list below describes the order of activities for setting up and using your
                Enterprise Service Bus  with references to other parts of this guide:<br>
                <br>
                <b>System Installation :</b><br>
                <ul>
                    <li>Install the Enterprise Service Bus package.
                    </li>
                    <li>Click configure button
                    </li>
                    <li>Assign Orchestrator permissions to specified user(s).
                    </li>
                    <li>Confirm that the system has been correctly installed by completing the 
                        <a href="./ConfirmSetupTutorial.html" style="color: #00f;">Confirm Setup</a>
                        tutorial.
                    </li>
                </ul><br>
                <b>Application Design and Configuration :</b><br>
                <ul>
                    <li>Design your messaging application with reference to the business specification (requirements)
                    </li>
                    <li>Define appropriate inbound events, and the injection of those events into
                        the ESB framework. This is described in the ??TODO?? guides.
                    </li>
                    <li>Design your own conversion processes as needed. This topic is described
                        in the detail the separate 
                        <a href="./ProcessDevelopersGuide.html" style="color: #00f;">Process Developer's Guide</a> guide.
                    </li>
                    <li>Configure Sequences and sequence Steps as needed. For more details, refer
                        <a href="/apex/eda__SequenceHelp" style="color: #00f;">Sequence Help (TODO) </a> .
                    </li>
                    <li>Monitor the system using the <code>Wiretap</code> and
                        <code>LogWriter</code> processes. For further details complete the Logging tutorial  located 
                        <a href="./LogUnderCommonIdentifierTutorial.html" style="color: #00f;">the LogUnderCommonIdentifierTutorial TODO</a> 
                    </li>
                </ul>
            </td>
        </tr>
    </table><br>
</body>
</html>