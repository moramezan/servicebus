<h1>
    Messaging Concepts
</h1>

<h3>
    Messages and Events
</h3>

<p>
    Events occur all the time. (For example: the clock strikes twelve, the fuel tank reaches empty).
    To represent details about an event in a computer system, we use a special object called a
    message. The primary purpose of a message is to provide a useful mechanism to communicate to a
    services that a particular event has occurred.
</p>

<h3>
    Event Based Architecture
</h3>

<p>
    Specific events are only relevant to specific services. For this reason the Services framework
    routes messages (representing specific events) to specific services within the system.
</p>

<p>
    An ordered list of  event type to specific service can be represented  in a
    table called a (Routing) <code>Sequence</code>.

</p>

<p>
    Breaking up work into specific services that respond to specific event types is known as
    Event Driven Architecture (EDA). The Services framework is based on the
    <a href="https://en.wikipedia.org/wiki/Staged_event-driven_architecture" target="_blank">SEDA</a>
    implementation of this event based architecture.
</p>

<h3>
    Command Response Architecture
</h3>

<p>
    Most implementations on Salesforce make use of an alternative to EDA called Command-Response
    Architecture. Under this model, work is centrally directed from a command such as a button
    click or a trigger action.
</p>

<p>
    An obvious drawback of of command-response architecture is that possible execution paths
    as well as exception handling  and testing requirements grow
    in an geometric manner as lines of code are added to system.
</p>

<h3>
    Services
</h3>

<p>
    A service is an apex class designed to execute specific business rules.
    All services conform to the
    <a href="https://github.com/bigassforce/OASIS" target="_blank">OASIS</a>
    specification.
</p>

<p>
    An event received by a service that has
    previously registered it's interest in an event of that  particular type will
    execute.  Developers are responsible for creating services and
    the responsibility of routing  any given event to the appropriate
    service is delegated to the services framework.
</p>

<h3>
    Processing Sequence
</h3>

<p>
    The Services framework facilitates useful work on the Salesforce platform via services that have
    previously registered their interest the occurrence of a specific event types. (In practise, this
    means that a service registers it's interest in events emitted from the service that immediately
    precedes it.)
</p>

<p>
    A register of interest containing a sufficient number of services will naturally resemble a
    sequence of chained processing steps. This register is called a <em>Sequence</em> and the
    sequential processing steps within it are called <em>Steps</em>.
</p>

<h3>
    Summary
</h3>

<p>
    The Services framework is implemented using Event Driven Architecture. The Services framework logically
    maps processing steps to an underlying business requirement.
</p>

<p>
    Emphasis is placed on narrowly defined, composable units of work called a Service. Each unit of work responds to
    the occurrence of a specific event type.
</p>

<p>
    The Services framework provides a clean model that limits complexity in the system to just the
    testable apex implementation details of any given service. In contrast, the Command-Response
    paradigm attempts to attach all possible logical code paths and associated exception handling to
    a single specific command. This creates code complexity that is not easily tested or modified.
</p>