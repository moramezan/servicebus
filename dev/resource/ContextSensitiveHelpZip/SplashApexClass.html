
<!--/// TODO - REVIEW COMPLETE-->



<h1>
    Services
</h1>

<h3>
    <img class="right" src="resources/Splashes/services.png" />
    What is a Service?
</h3>

<p>
    A service is a single, logical program  implemented as an Apex class.
    Every service handles one event and emits a collection containing zero, one or many new events.
    In addition, each service encapsulates a Summary that describes it
</p>

<!--
<ul>
    <li>Each service has a Summary that describes it.</li>
    <li>An event is represented in Apex code as <code>Map&lt;String,Object&gt;</code></li>
</ul>
-->

<h3>
    How do I enqueue an event to a service?
</h3>

<p>
    <code>
        event = {'ToService' => 'SendPayment'};
        <br />
        job = new ServiceBus.Job(event);
        <br />
        System.enqueueJob(job);
    </code>
</p>

<hr />

<h3>
    How do I author my own service?
</h3>

<pre>
global class SendPayment extends Abstract.Service {
    
    global class Summary {
        String Description = 'Short explanation of the service.';
    }
    
    //http requests go here
    //void callout(Map&lt;String,Object&gt; input) {}
    
    //side effects go here
    //List&lt;Map&lt;String,Object&gt;&gt; execute(Map&lt;String,Object&gt; input) {}
    
}
</pre>

<!--
<p>
    Services are implemented as Apex classes. The Service Bus contains
    by default a number of ready-made services, including:
</p>

<ul>
    <li>Schedule</li>
    <li>Publish and Subscribe</li>
    <li>Branch, Jump and Subsequence</li>
    <li>Audit and Wiretap</li>
    <li>Mark and Gate</li>
</ul>

<p>
    See the tutorial: <a href="?topic=TutorialProcessDiscovery">How to discover services</a>.
</p>

<h3>
    List View Buttons
</h3>

<p>
    <strong>Discover Services</strong> can be used to find new Services. Click this button after
    authoring or installing Services to make them available.
</p>

<h3>
    Detail Page Buttons
</h3>

<p>
    <strong>View Apex Class</strong> will show you the Apex Class that contains the underlying logic
    for any given Service.
</p>

<p>
    <strong>View Settings</strong> takes you to the available Settings for a Service. (Note: Not all
    service have Settings)
</p>

<p>
    <strong>View Documentation</strong> shows the supporting documentation provided by the author of
    a given Service.
</p>

<h3>
    Discovering Services
</h3>

<p>
    Before a service written in Apex can be referenced as a step in a sequence, it must first be
    discovered and registered in the Enterprise Services framework.
</p>

<p>
    This discovery job will be launched automatically when installing the package or trying to build
    a sequence for the first time.
</p>

<p>
    There is also a mechanism for discovering services manually and is initiated by clicking the
    [Discover] button from the Services list view.
</p>

<p>
    Learn more about <a href="?topic=TutorialProcessDiscovery">Service Discovery</a> within the Service Bus.
</p>
-->