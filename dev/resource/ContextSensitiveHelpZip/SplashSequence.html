<h1>
    Sequences
</h1>

<h3>
    <img class="right" src="resources/Splashes/sequences.png" />
    What is a sequence?
</h3>

<p>
    A Sequence is an arrangement of processing tasks called steps. Each Sequence is known by a friendly name, for example 'HandleRefund', which indicates the nature of the work that its steps will perform.
</p>

<p>
    You specify the order of the different steps using drag and drop. The Service Bus advances your events through the steps of the sequence. A typical sequence contains many steps.
</p>

<p>
    The last of every sequence is a 'Terminate' step. This step swallows events that reach the end of the sequence.
</p>

<h3>
    How do I enqueue events to a sequence?
</h3>

<p>
    <code>
        event = {'ToSequence' => 'MySequenceName'};
        <br />
        job = new ServiceBus.Job(event);
        <br />
        System.enqueueJob(job);
    </code>
</p>

<h3>
    When do I use a sequence instead of just a process?
</h3>

<ul>
    <li>To break down work into individual steps.</li>
    <li>If you need to split and then aggregate multiple events.</li>
    <li>When processes need to communicate with each other through events.</li>
</ul>

<!--
<p>
    See the following tutorials:
</p>

<ul>
    <li>
        Build a simple <a href="?topic=TutorialSetupConfirmation">WireTap</a> sequence.
    </li>
    <li>
        Build a sequence that groups messages under a
        <a href="?topic=TutorialMessageGrouping">Common Identifier</a>
    </li>
</ul>

<h3>
    When building a new Sequence
</h3>

<ul>
    <li>
        Every Step in a Sequence has an associated Process, a numbered Position, and potentially a
        Config.
    </li>
    <li>
    </li>
    <li>
        It is the orchestrator's responsibility to ensure the Terminate Process is the final Step in
        every Sequence as any Steps after the Terminate Process will not be executed.
    </li>
</ul>

<h3>
    Detail Page Buttons
</h3>

<ul>
    <li>
        <strong>New Step</strong> will append a new Sequence step (containing your selected
        process). Once appended, you can drag and drop the step to reposition.
    </li>
    <li>
        <strong>Enqueue Test Message</strong> enqueues a message into the sequence
        (referencing your user record as the underlying data entity <code>esb__RecordId</code>).
    </li>
</ul>
-->