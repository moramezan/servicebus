<h1>
    Sequences
</h1>

<h2>
    <img class="right" src="resources/Splashes/Sequence.png" />
    What is a sequence?
</h2>

<p>
    A sequence is an arrangement of processing tasks called steps.
    Events enter the top of the sequence and flow through the steps in order.
    The sequence has a name (eg 'Generate Calls') which indicates the kind of work its steps perform.
</p>

<p>
    Steps are arranged using the drag and drop builder.
    The last step of every sequence is a terminate service.
    This swallows events that reach the end of the sequence.
</p>

<h2>
    How to enqueue events to a sequence?
</h2>

<p>
    <code>
        event = new Map&lt;String,Object&gt;();
        <br />
        event.put('ToSequence', 'MySequenceName');
        <br />
        Services.Enqueue.invoke(event);
    </code>
</p>

<h2>
    When to use sequences?
</h2>

<ul>
    <li>To arrange services in order declaratively.</li>
    <li>When business logic consists of multiple services.</li>
    <li>For splitting and then aggregating collections of events.</li>
    <li>When services need to communicate between each other.</li>
</ul>

<!--
<p>
    See the following tutorials:
</p>

<ul>
    <li>
        Build a simple <a href="?topic=TutorialSetupConfirmation">WireTap</a> sequence.
    </li>
    <li>
        Build a sequence that groups messages under a
        <a href="?topic=TutorialMessageGrouping">Common Identifier</a>
    </li>
</ul>

<h3>
    When building a new Sequence
</h3>

<ul>
    <li>
        Every Step in a Sequence has an associated Service, a numbered Position, and potentially a
        Config.
    </li>
    <li>
    </li>
    <li>
        It is the orchestrator's responsibility to ensure the Terminate Service is the final Step in
        every Sequence as any Steps after the Terminate Service will not be executed.
    </li>
</ul>

<h3>
    Detail Page Buttons
</h3>

<ul>
    <li>
        <strong>New Step</strong> will append a new Sequence step (containing your selected
        service). Once appended, you can drag and drop the step to reposition.
    </li>
    <li>
        <strong>Enqueue Test Message</strong> enqueues a message into the sequence
        (referencing your user record as the underlying data entity <code>RecordId</code>).
    </li>
</ul>
-->