<!-- this is called "list" cuz a tab would show "recently viewed" etc -->
<!-- no recordSetVar  as "List controllers are not supported for ApexClass" -->
<apex:page controller="ApexClassTabController" setup="true" action="{!doInit}">

    <apex:sectionHeader title="Processes" description="A Process is a single, logical program with inputs and outputs in the form of events. Processes are implemented as Apex classes." />
    
    <apex:pageBlock mode="detail">
        <apex:pageBlockTable value="{!id2summary}" var="id">

            <apex:column headerValue="Action" width="110" style="color: #999;">
                <apex:outputLink value="{!URLFOR($Page.ApexClassSummary, null, ['id'=id])}" style="color: #015ba7; text-decoration: none;">Summary</apex:outputLink>
                <apex:outputText rendered="{!id2summary[id].ProcessSetting != null}">&nbsp;|&nbsp;</apex:outputText>
                <apex:outputLink rendered="{!id2summary[id].ProcessSetting != null}" value="{!URLFOR($Page.ApexClassSetting, null, ['id'=id])}" style="color: #015ba7; text-decoration: none;">Setting</apex:outputLink>
            </apex:column>
            
            <apex:column headerValue="Icon" width="30">
                <apex:image value="{!URLFOR($Resource.SequenceBuilderZip, '/resources/famfamfam/' + id2summary[id].Icon + '.png')}" />
            </apex:column>
            
            <apex:column headerValue="Name">
                <apex:outputLink value="/{!id}">{!id2class[id].Name}</apex:outputLink>
            </apex:column>
            
            <apex:column headerValue="Namespace Prefix" value="{!id2class[id].NamespacePrefix}" />
            
            <apex:column headerValue="{!$ObjectType.ApexClass.Fields.Status.Label}">
                <apex:outputField value="{!id2class[id].ApiVersion}" />
            </apex:column>
            
            <apex:column headerValue="{!$ObjectType.ApexClass.Fields.Status.Label}">
                <apex:outputField value="{!id2class[id].Status}" />
            </apex:column>

            <apex:column headerValue="{!$ObjectType.ApexClass.Fields.LastModifiedDate.Label}">
                <apex:outputField value="{!id2class[id].LastModifiedById}" />,&nbsp;
                <apex:outputField value="{!id2class[id].LastModifiedDate}" />
            </apex:column>
            
            <apex:column headerValue="{!$ObjectType.ApexClass.Fields.IsValid.Label}">
                <apex:outputField value="{!id2class[id].IsValid}" />
            </apex:column>


        </apex:pageBlockTable>
    </apex:pageBlock>
    
</apex:page>